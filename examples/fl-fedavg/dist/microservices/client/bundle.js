/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.client=t():e.client=t()}(self,(()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{initSession:()=>Br,runTrain:()=>Hr,setDefaultParams:()=>Lr,setParams:()=>Wr});var r,n,a,o,i,s,u,l,f,c,d,p,h,g,m,y,w,b,v,O,_,T,E,A,S,M,C,R,P,x,U,F,I=Object.defineProperty,D=Object.getOwnPropertyDescriptor,k=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,B=(e,t)=>()=>(e&&(t=e(e=0)),t),N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),H=(e,t)=>{for(var r in t)I(e,r,{get:t[r],enumerable:!0})},$=e=>((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of k(t))!L.call(e,r)&&undefined!==r&&I(e,r,{get:()=>t[r],enumerable:!(n=D(t,r))||n.enumerable});return e})(I({},"__esModule",{value:!0}),e),G=B((()=>{r=new Map,n=[],a=(e,t,a)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createInferenceSessionHandler)throw new TypeError("not a valid backend");{let o=r.get(e);if(void 0===o)r.set(e,{backend:t,priority:a});else{if(o.priority>a)return;if(o.priority===a&&o.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${a}`)}if(a>=0){let t=n.indexOf(e);-1!==t&&n.splice(t,1);for(let t=0;t<n.length;t++)if(r.get(n[t]).priority<=a)return void n.splice(t,0,e);n.push(e)}}},o=async e=>{let t=r.get(e);if(!t)return"backend not found.";if(t.initialized)return t.backend;if(t.aborted)return t.error;{let r=!!t.initPromise;try{return r||(t.initPromise=t.backend.init(e)),await t.initPromise,t.initialized=!0,t.backend}catch(e){return r||(t.error=`${e}`,t.aborted=!0),t.error}finally{delete t.initPromise}}},i=async e=>{let t,r=e.executionProviders||[],a=r.map((e=>"string"==typeof e?e:e.name)),i=0===a.length?n:a,s=[],u=new Set;for(let e of i){let r=await o(e);"string"==typeof r?s.push({name:e,err:r}):(t||(t=r),t===r&&u.add(e))}if(!t)throw new Error(`no available backend found. ERR: ${s.map((e=>`[${e.name}] ${e.err}`)).join(", ")}`);for(let{name:e,err:t}of s)a.includes(e)&&console.warn(`removing requested execution provider "${e}" from session options because it is not available: ${t}`);let l=r.filter((e=>u.has("string"==typeof e?e:e.name)));return[t,new Proxy(e,{get:(e,t)=>"executionProviders"===t?l:Reflect.get(e,t)})]}})),W=B((()=>{G()})),j=B((()=>{s="1.18.0"})),z=B((()=>{j(),u="warning",l={wasm:{},webgl:{},webgpu:{},versions:{common:s},set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);u=e}},get logLevel(){return u}},Object.defineProperty(l,"logLevel",{enumerable:!0})})),Y=B((()=>{z(),f=l})),V=B((()=>{c=(e,t)=>{let r=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);r.width=e.dims[3],r.height=e.dims[2];let n=r.getContext("2d");if(null!=n){let a,o;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(a=e.dims[2],o=e.dims[3]):(a=e.dims[3],o=e.dims[2]);let i,s,u=void 0!==t?.format?t.format:"RGB",l=t?.norm;void 0===l||void 0===l.mean?i=[255,255,255,255]:"number"==typeof l.mean?i=[l.mean,l.mean,l.mean,l.mean]:(i=[l.mean[0],l.mean[1],l.mean[2],0],void 0!==l.mean[3]&&(i[3]=l.mean[3])),void 0===l||void 0===l.bias?s=[0,0,0,0]:"number"==typeof l.bias?s=[l.bias,l.bias,l.bias,l.bias]:(s=[l.bias[0],l.bias[1],l.bias[2],0],void 0!==l.bias[3]&&(s[3]=l.bias[3]));let f=o*a,c=0,d=f,p=2*f,h=-1;"RGBA"===u?(c=0,d=f,p=2*f,h=3*f):"RGB"===u?(c=0,d=f,p=2*f):"RBG"===u&&(c=0,p=f,d=2*f);for(let t=0;t<o;t++)for(let r=0;r<a;r++){let a=(e.data[c++]-s[0])*i[0],o=(e.data[d++]-s[1])*i[1],u=(e.data[p++]-s[2])*i[2],l=-1===h?255:(e.data[h++]-s[3])*i[3];n.fillStyle="rgba("+a+","+o+","+u+","+l+")",n.fillRect(r,t,1,1)}if("toDataURL"in r)return r.toDataURL();throw new Error("toDataURL is not supported")}throw new Error("Can not access image data")},d=(e,t)=>{let r,n=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d");if(null==n)throw new Error("Can not access image data");{let a,o,i;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(a=e.dims[2],o=e.dims[1],i=e.dims[3]):(a=e.dims[3],o=e.dims[2],i=e.dims[1]);let s,u,l=void 0!==t&&void 0!==t.format?t.format:"RGB",f=t?.norm;void 0===f||void 0===f.mean?s=[255,255,255,255]:"number"==typeof f.mean?s=[f.mean,f.mean,f.mean,f.mean]:(s=[f.mean[0],f.mean[1],f.mean[2],255],void 0!==f.mean[3]&&(s[3]=f.mean[3])),void 0===f||void 0===f.bias?u=[0,0,0,0]:"number"==typeof f.bias?u=[f.bias,f.bias,f.bias,f.bias]:(u=[f.bias[0],f.bias[1],f.bias[2],0],void 0!==f.bias[3]&&(u[3]=f.bias[3]));let c=o*a;if(void 0!==t&&(void 0!==t.format&&4===i&&"RGBA"!==t.format||3===i&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");let d=4,p=0,h=1,g=2,m=3,y=0,w=c,b=2*c,v=-1;"RGBA"===l?(y=0,w=c,b=2*c,v=3*c):"RGB"===l?(y=0,w=c,b=2*c):"RBG"===l&&(y=0,b=c,w=2*c),r=n.createImageData(a,o);for(let t=0;t<o*a;p+=d,h+=d,g+=d,m+=d,t++)r.data[p]=(e.data[y++]-u[0])*s[0],r.data[h]=(e.data[w++]-u[1])*s[1],r.data[g]=(e.data[b++]-u[2])*s[2],r.data[m]=-1===v?255:(e.data[v++]-u[3])*s[3]}return r}})),J=B((()=>{Q(),p=(e,t)=>{if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");let r,n,{height:a,width:o}=t,i=t.norm??{mean:255,bias:0};r="number"==typeof i.mean?[i.mean,i.mean,i.mean,i.mean]:[i.mean[0],i.mean[1],i.mean[2],i.mean[3]??255],n="number"==typeof i.bias?[i.bias,i.bias,i.bias,i.bias]:[i.bias[0],i.bias[1],i.bias[2],i.bias[3]??0];let s=void 0!==t.format?t.format:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",l=a*o,f="RGBA"===u?new Float32Array(4*l):new Float32Array(3*l),c=4,d=0,p=1,h=2,g=3,m=0,y=l,w=2*l,b=-1;"RGB"===s&&(c=3,d=0,p=1,h=2,g=-1),"RGBA"===u?b=3*l:"RBG"===u?(m=0,w=l,y=2*l):"BGR"===u&&(w=0,y=l,m=2*l);for(let t=0;t<l;t++,d+=c,h+=c,p+=c,g+=c)f[m++]=(e[d]+n[0])/r[0],f[y++]=(e[p]+n[1])/r[1],f[w++]=(e[h]+n[2])/r[2],-1!==b&&-1!==g&&(f[b++]=(e[g]+n[3])/r[3]);return new E("float32",f,"RGBA"===u?[1,4,a,o]:[1,3,a,o])},h=async(e,t)=>{let r,n=typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement,a=typeof ImageData<"u"&&e instanceof ImageData,o=typeof ImageBitmap<"u"&&e instanceof ImageBitmap,i="string"==typeof e,s=t??{},u=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},l=e=>e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas?e.getContext("2d"):null;if(n){let n=u();n.width=e.width,n.height=e.height;let a=l(n);if(null==a)throw new Error("Can not access image data");{let n=e.height,o=e.width;if(void 0!==t&&void 0!==t.resizedHeight&&void 0!==t.resizedWidth&&(n=t.resizedHeight,o=t.resizedWidth),void 0!==t){if(s=t,void 0!==t.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");s.tensorFormat="RGBA",s.height=n,s.width=o}else s.tensorFormat="RGBA",s.height=n,s.width=o;a.drawImage(e,0,0),r=a.getImageData(0,0,o,n).data}}else{if(!a){if(o){if(void 0===t)throw new Error("Please provide image config with format for Imagebitmap");let n=u();n.width=e.width,n.height=e.height;let a=l(n);if(null!=a){let t=e.height,n=e.width;return a.drawImage(e,0,0,n,t),r=a.getImageData(0,0,n,t).data,s.height=t,s.width=n,p(r,s)}throw new Error("Can not access image data")}if(i)return new Promise(((t,r)=>{let n=u(),a=l(n);if(!e||!a)return r();let o=new Image;o.crossOrigin="Anonymous",o.src=e,o.onload=()=>{n.width=o.width,n.height=o.height,a.drawImage(o,0,0,n.width,n.height);let e=a.getImageData(0,0,n.width,n.height);s.height=n.height,s.width=n.width,t(p(e.data,s))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let n,a;if(void 0!==t&&void 0!==t.resizedWidth&&void 0!==t.resizedHeight?(n=t.resizedHeight,a=t.resizedWidth):(n=e.height,a=e.width),void 0!==t&&(s=t),s.format="RGBA",s.height=n,s.width=a,void 0!==t){let t=u();t.width=a,t.height=n;let o=l(t);if(null==o)throw new Error("Can not access image data");o.putImageData(e,0,0),r=o.getImageData(0,0,a,n).data}else r=e.data}}if(void 0!==r)return p(r,s);throw new Error("Input data provided is not supported - aborted tensor creation")},g=(e,t)=>{let{width:r,height:n,download:a,dispose:o}=t;return new E({location:"texture",type:"float32",texture:e,dims:[1,n,r,4],download:a,dispose:o})},m=(e,t)=>{let{dataType:r,dims:n,download:a,dispose:o}=t;return new E({location:"gpu-buffer",type:r??"float32",gpuBuffer:e,dims:n,download:a,dispose:o})},y=(e,t,r)=>new E({location:"cpu-pinned",type:e,data:t,dims:r??[t.length]})})),q=B((()=>{w=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),b=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]),v=!1,O=()=>{if(!v){v=!0;let e=typeof BigInt64Array<"u"&&BigInt64Array.from,t=typeof BigUint64Array<"u"&&BigUint64Array.from,r=typeof Float16Array<"u"&&Float16Array.from;e&&(w.set("int64",BigInt64Array),b.set(BigInt64Array,"int64")),t&&(w.set("uint64",BigUint64Array),b.set(BigUint64Array,"uint64")),r?(w.set("float16",Float16Array),b.set(Float16Array,"float16")):w.set("float16",Uint16Array)}}})),X=B((()=>{Q(),_=e=>{let t=1;for(let r=0;r<e.length;r++){let n=e[r];if("number"!=typeof n||!Number.isSafeInteger(n))throw new TypeError(`dims[${r}] must be an integer, got: ${n}`);if(n<0)throw new RangeError(`dims[${r}] must be a non-negative integer, got: ${n}`);t*=n}return t},T=(e,t)=>{switch(e.location){case"cpu":return new E(e.type,e.data,t);case"cpu-pinned":return new E({location:"cpu-pinned",data:e.data,type:e.type,dims:t});case"texture":return new E({location:"texture",texture:e.texture,type:e.type,dims:t});case"gpu-buffer":return new E({location:"gpu-buffer",gpuBuffer:e.gpuBuffer,type:e.type,dims:t});default:throw new Error(`tensorReshape: tensor location ${e.location} is not supported`)}}})),Q=B((()=>{V(),J(),q(),X(),E=class{constructor(e,t,r){let n,a;if(O(),"object"==typeof e&&"location"in e)switch(this.dataLocation=e.location,n=e.type,a=e.dims,e.location){case"cpu-pinned":{let t=w.get(n);if(!t)throw new TypeError(`unsupported type "${n}" to create tensor from pinned buffer`);if(!(e.data instanceof t))throw new TypeError(`buffer should be of type ${t.name}`);this.cpuData=e.data;break}case"texture":if("float32"!==n)throw new TypeError(`unsupported type "${n}" to create tensor from texture`);this.gpuTextureData=e.texture,this.downloader=e.download,this.disposer=e.dispose;break;case"gpu-buffer":if("float32"!==n&&"float16"!==n&&"int32"!==n&&"int64"!==n&&"uint32"!==n&&"uint8"!==n&&"bool"!==n)throw new TypeError(`unsupported type "${n}" to create tensor from gpu buffer`);this.gpuBufferData=e.gpuBuffer,this.downloader=e.download,this.disposer=e.dispose;break;default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let o,i;if("string"==typeof e)if(n=e,i=r,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");o=t}else{let r=w.get(e);if(void 0===r)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t)){if("float16"===e&&r===Uint16Array)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");o="uint64"===e||"int64"===e?r.from(t,BigInt):r.from(t)}else{if(!(t instanceof r))throw new TypeError(`A ${n} tensor's data must be type of ${r}`);o=t}}else if(i=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");let t=typeof e[0];if("string"===t)n="string",o=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);n="bool",o=Uint8Array.from(e)}}else{let t=b.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);n=t,o=e}if(void 0===i)i=[o.length];else if(!Array.isArray(i))throw new TypeError("A tensor's dims must be a number array");a=i,this.cpuData=o,this.dataLocation="cpu"}let o=_(a);if(this.cpuData&&o!==this.cpuData.length)throw new Error(`Tensor's size(${o}) does not match data length(${this.cpuData.length}).`);this.type=n,this.dims=a,this.size=o}static async fromImage(e,t){return h(e,t)}static fromTexture(e,t){return g(e,t)}static fromGpuBuffer(e,t){return m(e,t)}static fromPinnedBuffer(e,t,r){return y(e,t,r)}toDataURL(e){return c(this,e)}toImageData(e){return d(this,e)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(e){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let t=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=t,e&&this.disposer&&(this.disposer(),this.disposer=void 0),t}finally{this.isDownloading=!1}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if("none"===this.dataLocation)throw new Error("The tensor is disposed.")}reshape(e){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return T(this,e)}}})),Z=B((()=>{Q(),A=E})),K=B((()=>{z(),S=(e,t)=>{(typeof l.trace>"u"?!l.wasm.trace:!l.trace)||console.timeStamp(`${e}::ORT::${t}`)},M=(e,t)=>{let r=(new Error).stack?.split(/\r\n|\r|\n/g)||[],n=!1;for(let a=0;a<r.length;a++){if(n&&!r[a].includes("TRACE_FUNC")){let n=`FUNC_${e}::${r[a].trim().split(" ")[1]}`;return t&&(n+=`::${t}`),void S("CPU",n)}r[a].includes("TRACE_FUNC")&&(n=!0)}},C=e=>{(typeof l.trace>"u"?!l.wasm.trace:!l.trace)||M("BEGIN",e)},R=e=>{(typeof l.trace>"u"?!l.wasm.trace:!l.trace)||M("END",e)}})),ee=B((()=>{G(),Z(),K(),P=class e{constructor(e){this.handler=e}async run(e,t,r){C();let n={},a={};if("object"!=typeof e||null===e||e instanceof A||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let o=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof A)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");o=!1;for(let e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);n[e]=null}if("object"==typeof r&&null!==r)a=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else{let e=!1,i=Object.getOwnPropertyNames(t);for(let r of this.outputNames)if(-1!==i.indexOf(r)){let a=t[r];(null===a||a instanceof A)&&(e=!0,o=!1,n[r]=a)}if(e){if("object"==typeof r&&null!==r)a=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else a=t}}else if(typeof t<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let t of this.inputNames)if(typeof e[t]>"u")throw new Error(`input '${t}' is missing in 'feeds'.`);if(o)for(let e of this.outputNames)n[e]=null;let i=await this.handler.run(e,n,a),s={};for(let e in i)if(Object.hasOwnProperty.call(i,e)){let t=i[e];s[e]=t instanceof A?t:new A(t.type,t.data,t.dims)}return R(),s}async release(){return this.handler.dispose()}static async create(t,r,n,a){C();let o,s={};if("string"==typeof t){if(o=t,"object"==typeof r&&null!==r)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(o=t,"object"==typeof r&&null!==r)s=r;else if(typeof r<"u")throw new TypeError("'options' must be an object.")}else{if(!(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{let e=t,i=0,u=t.byteLength;if("object"==typeof r&&null!==r)s=r;else if("number"==typeof r){if(i=r,!Number.isSafeInteger(i))throw new RangeError("'byteOffset' must be an integer.");if(i<0||i>=e.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${e.byteLength}).`);if(u=t.byteLength-i,"number"==typeof n){if(u=n,!Number.isSafeInteger(u))throw new RangeError("'byteLength' must be an integer.");if(u<=0||i+u>e.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${e.byteLength-i}].`);if("object"==typeof a&&null!==a)s=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(typeof n<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof r<"u")throw new TypeError("'options' must be an object.");o=new Uint8Array(e,i,u)}}let[u,l]=await i(s),f=await u.createInferenceSessionHandler(o,l);return R(),new e(f)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}})),te=B((()=>{ee(),x=P})),re=B((()=>{})),ne=B((()=>{})),ae=B((()=>{})),oe=B((()=>{})),ie=B((()=>{G(),Z(),U=class e{constructor(e,t,r){this.handler=e,this.hasOptimizerModel=t,this.hasEvalModel=r}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(t,r){let n=t.evalModel||"",a=t.optimizerModel||"",o=r||{},[s,u]=await i(o);if(s.createTrainingSessionHandler){let r=await s.createTrainingSessionHandler(t.checkpointState,t.trainModel,n,a,u);return new e(r,!!t.optimizerModel,!!t.evalModel)}throw new Error("Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.")}typeNarrowingForRunStep(e,t,r,n,a){let o={},i={};if("object"!=typeof r||null===r||r instanceof A||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let s=!0;if("object"==typeof n){if(null===n)throw new TypeError("Unexpected argument[1]: cannot be null.");if(n instanceof A)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(n)){if(0===n.length)throw new TypeError("'fetches' cannot be an empty array.");s=!1;for(let e of n){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===t.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);o[e]=null}if("object"==typeof a&&null!==a)i=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else{let e=!1,r=Object.getOwnPropertyNames(n);for(let a of t)if(-1!==r.indexOf(a)){let t=n[a];(null===t||t instanceof A)&&(e=!0,s=!1,o[a]=t)}if(e){if("object"==typeof a&&null!==a)i=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else i=n}}else if(typeof n<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let t of e)if(typeof r[t]>"u")throw new Error(`input '${t}' is missing in 'feeds'.`);if(s)for(let e of t)o[e]=null;return[o,i]}convertHandlerReturnTypeToMapOfTensors(e){let t={};for(let r in e)if(Object.hasOwnProperty.call(e,r)){let n=e[r];t[r]=n instanceof A?n:new A(n.type,n.data,n.dims)}return t}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(e,t,r){let[n,a]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,e,t,r),o=await this.handler.runTrainStep(e,n,a);return this.convertHandlerReturnTypeToMapOfTensors(o)}async runOptimizerStep(e){if(!this.hasOptimizerModel)throw new Error("This TrainingSession has no OptimizerModel loaded.");await this.handler.runOptimizerStep(e||{})}async runEvalStep(e,t,r){if(this.hasEvalModel){let[n,a]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,e,t,r),o=await this.handler.runEvalStep(e,n,a);return this.convertHandlerReturnTypeToMapOfTensors(o)}throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(e=!0){return this.handler.getParametersSize(e)}async loadParametersBuffer(e,t=!0){let r=await this.getParametersSize(t);if(e.length!==4*r)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(e,t)}async getContiguousParameters(e=!0){return this.handler.getContiguousParameters(e)}async release(){return this.handler.dispose()}}})),se=B((()=>{ie(),F=U}));H({},{InferenceSession:()=>x,TRACE:()=>S,TRACE_FUNC_BEGIN:()=>C,TRACE_FUNC_END:()=>R,Tensor:()=>A,TrainingSession:()=>F,env:()=>f,registerBackend:()=>a});var ue=B((()=>{W(),Y(),te(),Z(),re(),ne(),K(),ae(),oe(),se()})),le={};H(le,{createReadStream:()=>de,readFile:()=>fe,readFileSync:()=>ce});var fe,ce,de,pe=B((()=>{fe=void 0,ce=void 0,de=void 0})),he={};H(he,{join:()=>ge});var ge,me=B((()=>{ge=void 0})),ye=N(((e,t)=>{var r,n=(r=typeof document<"u"?document.currentScript?.src:void 0,typeof __filename<"u"&&(r||=__filename),function(e={}){var t,n,a,o,i,s=e,u=new Promise(((e,r)=>{t=e,n=r})),l=Object.assign({},s),f="./this.program",c="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";if(p){var g=(pe(),$(le)),m=(me(),$(he));h=d?m.dirname(h)+"/":__dirname+"/",a=(e,t)=>(e=k(e)?new URL(e):m.normalize(e),g.readFileSync(e,t?void 0:"utf8")),i=e=>((e=a(e,!0)).buffer||(e=new Uint8Array(e)),e),o=(e,t,r,n=!0)=>{e=k(e)?new URL(e):m.normalize(e),g.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!s.thisProgram&&1<process.argv.length&&(f=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2)}else(c||d)&&(d?h=self.location.href:typeof document<"u"&&document.currentScript&&(h=document.currentScript.src),r&&(h=r),h=h.startsWith("blob:")?"":h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1),a=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),o=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y=console.log.bind(console),w=console.error.bind(console);Object.assign(s,l),l=null;var b,v,O,_,T,E,A=!1;function S(){var e=b.buffer;s.HEAP8=v=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=O=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=_=new Int32Array(e),s.HEAPU32=T=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=E=new Float64Array(e)}var M=[],C=[],R=[],P=0,x=null,U=null;function F(e){throw w(e="Aborted("+e+")"),A=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}var I,D=e=>e.startsWith("data:application/octet-stream;base64,"),k=e=>e.startsWith("file://");if(!D(I="ort-training-wasm-simd.wasm")){var L=I;I=s.locateFile?s.locateFile(L,h):h+L}function B(e){if(i)return i(e);throw"both async and sync fetching of the wasm failed"}function N(e,t,r){return function(e){if(c||d){if("function"==typeof fetch&&!k(e))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()})).catch((()=>B(e)));if(o)return new Promise(((t,r)=>{o(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>B(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then(r,(e=>{w(`failed to asynchronously prepare wasm: ${e}`),F(e)}))}var H,G={869736:(e,t,r,n)=>{if(typeof s>"u"||!s.La)return 1;if((e=V(e>>>0)).startsWith("./")&&(e=e.substring(2)),!(e=s.La.get(e)))return 2;if((t>>>=0)+(r>>>=0)>e.byteLength)return 3;try{return O.set(e.subarray(t,t+r),n>>>0>>>0),0}catch{return 4}}};class W{constructor(e){this.Ja=e-24}}var j,z=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Y=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&z)return z.decode(e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},V=(e,t)=>(e>>>=0)?Y(O,e,t):"",J=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},q=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},X=e=>e%4==0&&(e%100!=0||e%400==0),Q=[0,31,60,91,121,152,182,213,244,274,305,335],Z=[0,31,59,90,120,151,181,212,243,273,304,334],K=[],ee={},te=()=>{if(!j){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(e in ee)void 0===ee[e]?delete t[e]:t[e]=ee[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);j=r}return j},re=[null,[],[]],ne=[31,29,31,30,31,30,31,31,30,31,30,31],ae=[31,28,31,30,31,30,31,31,30,31,30,31];function oe(e,t,r,n){function a(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.Fa;for(e=new Date(new Date(e.Ga+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(X(e.getFullYear())?ne:ae)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var l=T[40+(n>>>=0)>>>2>>>0];for(var f in n={Oa:_[n>>>2>>>0],Na:_[n+4>>>2>>>0],Ha:_[n+8>>>2>>>0],Ka:_[n+12>>>2>>>0],Ia:_[n+16>>>2>>>0],Ga:_[n+20>>>2>>>0],Aa:_[n+24>>>2>>>0],Fa:_[n+28>>>2>>>0],Qa:_[n+32>>>2>>>0],Ma:_[n+36>>>2>>>0],Pa:l?V(l):""},r=V(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(f,"g"),l[f]);var c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(f in l={"%a":e=>c[e.Aa].substring(0,3),"%A":e=>c[e.Aa],"%b":e=>d[e.Ia].substring(0,3),"%B":e=>d[e.Ia],"%C":e=>o((e.Ga+1900)/100|0,2),"%d":e=>o(e.Ka,2),"%e":e=>a(e.Ka,2," "),"%g":e=>u(e).toString().substring(2),"%G":u,"%H":e=>o(e.Ha,2),"%I":e=>(0==(e=e.Ha)?e=12:12<e&&(e-=12),o(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Ia-1;t+=(X(e.Ga+1900)?ne:ae)[r++]);return o(e.Ka+t,3)},"%m":e=>o(e.Ia+1,2),"%M":e=>o(e.Na,2),"%n":()=>"\n","%p":e=>0<=e.Ha&&12>e.Ha?"AM":"PM","%S":e=>o(e.Oa,2),"%t":()=>"\t","%u":e=>e.Aa||7,"%U":e=>o(Math.floor((e.Fa+7-e.Aa)/7),2),"%V":e=>{var t=Math.floor((e.Fa+7-(e.Aa+6)%7)/7);if(2>=(e.Aa+371-e.Fa-2)%7&&t++,t)53==t&&(4==(r=(e.Aa+371-e.Fa)%7)||3==r&&X(e.Ga)||(t=1));else{t=52;var r=(e.Aa+7-e.Fa-1)%7;(4==r||5==r&&X(e.Ga%400-1))&&t++}return o(t,2)},"%w":e=>e.Aa,"%W":e=>o(Math.floor((e.Fa+7-(e.Aa+6)%7)/7),2),"%y":e=>(e.Ga+1900).toString().substring(2),"%Y":e=>e.Ga+1900,"%z":e=>(0<=(e=e.Ma)?"+":"-")+("0000"+((e=Math.abs(e)/60)/60*100+e%60)).slice(-4),"%Z":e=>e.Pa,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0"),l)r.includes(f)&&(r=r.replace(new RegExp(f,"g"),l[f](n)));return f=function(e){var t=Array(J(e)+1);return q(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),f.length>t?0:(v.set(f,e>>>0),f.length-1)}var ie={a:function(e,t,r){var n=new W(e>>>=0);throw T[n.Ja+16>>>2>>>0]=0,T[n.Ja+4>>>2>>>0]=t>>>0,T[n.Ja+8>>>2>>>0]=r>>>0,e},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,I:function(e,t,r){return t>>>=0,O.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),_[r>>>2>>>0]=e.getUTCSeconds(),_[r+4>>>2>>>0]=e.getUTCMinutes(),_[r+8>>>2>>>0]=e.getUTCHours(),_[r+12>>>2>>>0]=e.getUTCDate(),_[r+16>>>2>>>0]=e.getUTCMonth(),_[r+20>>>2>>>0]=e.getUTCFullYear()-1900,_[r+24>>>2>>>0]=e.getUTCDay(),_[r+28>>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),_[r>>>2>>>0]=e.getSeconds(),_[r+4>>>2>>>0]=e.getMinutes(),_[r+8>>>2>>>0]=e.getHours(),_[r+12>>>2>>>0]=e.getDate(),_[r+16>>>2>>>0]=e.getMonth(),_[r+20>>>2>>>0]=e.getFullYear()-1900,_[r+24>>>2>>>0]=e.getDay(),_[r+28>>>2>>>0]=(X(e.getFullYear())?Q:Z)[e.getMonth()]+e.getDate()-1|0,_[r+36>>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();_[r+32>>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(_[e+20>>>2>>>0]+1900,_[e+16>>>2>>>0],_[e+12>>>2>>>0],_[e+8>>>2>>>0],_[e+4>>>2>>>0],_[e>>>2>>>0],0),r=_[e+32>>>2>>>0],n=t.getTimezoneOffset(),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(o,a);return 0>r?_[e+32>>>2>>>0]=+(a!=o&&i==n):0<r!=(i==n)&&(a=Math.max(o,a),t.setTime(t.getTime()+6e4*((0<r?i:a)-n))),_[e+24>>>2>>>0]=t.getDay(),_[e+28>>>2>>>0]=(X(t.getFullYear())?Q:Z)[t.getMonth()]+t.getDate()-1|0,_[e>>>2>>>0]=t.getSeconds(),_[e+4>>>2>>>0]=t.getMinutes(),_[e+8>>>2>>>0]=t.getHours(),_[e+12>>>2>>>0]=t.getDate(),_[e+16>>>2>>>0]=t.getMonth(),_[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),e=isNaN(e)?-1:e/1e3,fe((H=e,1<=+Math.abs(H)?0<H?+Math.floor(H/4294967296)>>>0:~~+Math.ceil((H-+(~~H>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},t:function(e,t,r,n){r>>>=0,n>>>=0;var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();T[e>>>0>>>2>>>0]=60*Math.max(a,s),_[t>>>0>>>2>>>0]=+(a!=s),o=(e=e=>e.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1])(o),i=e(i),s<a?(q(o,O,r,17),q(i,O,n,17)):(q(o,O,n,17),q(i,O,r,17))},d:()=>{F("")},B:function(e,t,r){e>>>=0,t>>>=0,r>>>=0,K.length=0;for(var n;n=O[t++>>>0];){var a=105!=n;r+=(a&=112!=n)&&r%8?4:0,K.push(112==n?T[r>>>2>>>0]:105==n?_[r>>>2>>>0]:E[r>>>3>>>0]),r+=a?8:4}return G[e](...K)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),s:function(e){e>>>=0;var t=O.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var a=Math;n=Math.max(e,n);e:{a=(a.min.call(a,4294901760,n+(65536-n%65536)%65536)-b.buffer.byteLength+65535)/65536;try{b.grow(a),S();var o=1;break e}catch{}o=void 0}if(o)return!0}return!1},C:function(e,t){e>>>=0,t>>>=0;var r=0;return te().forEach(((n,a)=>{var o=t+r;for(a=T[e+4*a>>>2>>>0]=o,o=0;o<n.length;++o)v[a++>>>0]=n.charCodeAt(o);v[a>>>0]=0,r+=n.length+1})),0},D:function(e,t){e>>>=0,t>>>=0;var r=te();T[e>>>2>>>0]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),T[t>>>2>>>0]=n,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var a=0,o=0;o<r;o++){var i=T[t>>>2>>>0],s=T[t+4>>>2>>>0];t+=8;for(var u=0;u<s;u++){var l=O[i+u>>>0],f=re[e];0===l||10===l?((1===e?y:w)(Y(f,0)),f.length=0):f.push(l)}a+=s}return T[n>>>2>>>0]=a,0},r:oe,c:function(e,t,r,n){return oe(e>>>0,t>>>0,r>>>0,n>>>0)}},se=function(){function e(e){return se=e.exports,se=function(){var e=se,t=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).ya=t(e.ya),e.Da=t(e.Da),e.Ea=(e=>()=>e()>>>0)(e.Ea),e}(),b=se.K,S(),C.unshift(se.L),0==--P&&(null!==x&&(clearInterval(x),x=null),U&&(e=U,U=null,e())),se}var t={a:ie};if(P++,s.instantiateWasm)try{return s.instantiateWasm(t,e)}catch(e){w(`Module.instantiateWasm callback failed with error: ${e}`),n(e)}return function(e,t){var r=I;return"function"!=typeof WebAssembly.instantiateStreaming||D(r)||k(r)||p||"function"!=typeof fetch?N(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return w(`wasm streaming compile failed: ${n}`),w("falling back to ArrayBuffer instantiation"),N(r,e,t)}))))}(t,(function(t){e(t.instance)})).catch(n),{}}();s._OrtInit=(e,t)=>(s._OrtInit=se.M)(e,t),s._OrtGetLastError=(e,t)=>(s._OrtGetLastError=se.N)(e,t),s._OrtCreateSessionOptions=(e,t,r,n,a,o,i,u,l,f)=>(s._OrtCreateSessionOptions=se.O)(e,t,r,n,a,o,i,u,l,f),s._OrtAppendExecutionProvider=(e,t)=>(s._OrtAppendExecutionProvider=se.P)(e,t),s._OrtAddFreeDimensionOverride=(e,t,r)=>(s._OrtAddFreeDimensionOverride=se.Q)(e,t,r),s._OrtAddSessionConfigEntry=(e,t,r)=>(s._OrtAddSessionConfigEntry=se.R)(e,t,r),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=se.S)(e),s._OrtCreateSession=(e,t,r)=>(s._OrtCreateSession=se.T)(e,t,r),s._OrtReleaseSession=e=>(s._OrtReleaseSession=se.U)(e),s._OrtGetInputOutputCount=(e,t,r)=>(s._OrtGetInputOutputCount=se.V)(e,t,r),s._OrtGetInputName=(e,t)=>(s._OrtGetInputName=se.W)(e,t),s._OrtGetOutputName=(e,t)=>(s._OrtGetOutputName=se.X)(e,t),s._OrtFree=e=>(s._OrtFree=se.Y)(e),s._OrtCreateTensor=(e,t,r,n,a,o)=>(s._OrtCreateTensor=se.Z)(e,t,r,n,a,o),s._OrtGetTensorData=(e,t,r,n,a)=>(s._OrtGetTensorData=se._)(e,t,r,n,a),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=se.$)(e),s._OrtCreateRunOptions=(e,t,r,n)=>(s._OrtCreateRunOptions=se.aa)(e,t,r,n),s._OrtAddRunConfigEntry=(e,t,r)=>(s._OrtAddRunConfigEntry=se.ba)(e,t,r),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=se.ca)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=se.da)(e),s._OrtBindInput=(e,t,r)=>(s._OrtBindInput=se.ea)(e,t,r),s._OrtBindOutput=(e,t,r,n)=>(s._OrtBindOutput=se.fa)(e,t,r,n),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=se.ga)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=se.ha)(e),s._OrtRunWithBinding=(e,t,r,n,a)=>(s._OrtRunWithBinding=se.ia)(e,t,r,n,a),s._OrtRun=(e,t,r,n,a,o,i,u)=>(s._OrtRun=se.ja)(e,t,r,n,a,o,i,u),s._OrtEndProfiling=e=>(s._OrtEndProfiling=se.ka)(e),s._OrtTrainingLoadCheckpoint=(e,t)=>(s._OrtTrainingLoadCheckpoint=se.la)(e,t),s._OrtTrainingReleaseCheckpoint=e=>(s._OrtTrainingReleaseCheckpoint=se.ma)(e),s._OrtTrainingCreateSession=(e,t,r,n,a,o,i,u)=>(s._OrtTrainingCreateSession=se.na)(e,t,r,n,a,o,i,u),s._OrtTrainingLazyResetGrad=e=>(s._OrtTrainingLazyResetGrad=se.oa)(e),s._OrtTrainingRunTrainStep=(e,t,r,n,a,o)=>(s._OrtTrainingRunTrainStep=se.pa)(e,t,r,n,a,o),s._OrtTrainingOptimizerStep=(e,t)=>(s._OrtTrainingOptimizerStep=se.qa)(e,t),s._OrtTrainingEvalStep=(e,t,r,n,a,o)=>(s._OrtTrainingEvalStep=se.ra)(e,t,r,n,a,o),s._OrtTrainingGetParametersSize=(e,t,r)=>(s._OrtTrainingGetParametersSize=se.sa)(e,t,r),s._OrtTrainingCopyParametersToBuffer=(e,t,r,n)=>(s._OrtTrainingCopyParametersToBuffer=se.ta)(e,t,r,n),s._OrtTrainingCopyParametersFromBuffer=(e,t,r,n)=>(s._OrtTrainingCopyParametersFromBuffer=se.ua)(e,t,r,n),s._OrtTrainingGetModelInputOutputCount=(e,t,r,n)=>(s._OrtTrainingGetModelInputOutputCount=se.va)(e,t,r,n),s._OrtTrainingGetModelInputOutputName=(e,t,r,n)=>(s._OrtTrainingGetModelInputOutputName=se.wa)(e,t,r,n),s._OrtTrainingReleaseSession=e=>(s._OrtTrainingReleaseSession=se.xa)(e),s._malloc=e=>(s._malloc=se.ya)(e),s._free=e=>(s._free=se.za)(e);var ue,fe=e=>(fe=se.Ba)(e),ce=e=>(ce=se.Ca)(e),de=e=>(de=se.Da)(e),ge=()=>(ge=se.Ea)();function ye(){if(!(0<P)){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;){var e=s.preRun.shift();M.unshift(e)}for(;0<M.length;)M.shift()(s);if(!(0<P||ue||(ue=!0,s.calledRun=!0,A))){for(;0<C.length;)C.shift()(s);for(t(s);0<R.length;)R.shift()(s)}}}return s.stackSave=()=>ge(),s.stackRestore=e=>ce(e),s.stackAlloc=e=>de(e),s.UTF8ToString=V,s.stringToUTF8=(e,t,r)=>q(e,O,t,r),s.lengthBytesUTF8=J,U=function e(){ue||ye(),ue||(U=e)},ye(),u});"object"==typeof e&&"object"==typeof t?t.exports=n:"function"==typeof define&&define.amd&&define([],(()=>n))})),we=N((()=>{})),be=N((()=>{})),ve={};H(ve,{cpus:()=>Oe});var Oe,_e,Te,Ee,Ae,Se,Me,Ce,Re,Pe,xe,Ue,Fe,Ie,De,ke,Le,Be,Ne,He,$e,Ge,We,je,ze,Ye,Ve,Je,qe,Xe,Qe,Ze,Ke,et,tt,rt,nt,at,ot,it,st,ut,lt,ft,ct,dt,pt,ht,gt,mt,yt,wt,bt,vt,Ot,_t,Tt,Et,At,St,Mt,Ct,Rt,Pt,xt,Ut,Ft,It,Dt,kt,Lt,Bt,Nt,Ht,$t,Gt,Wt,jt,zt,Yt,Vt,Jt,qt=B((()=>{Oe=void 0})),Xt=N(((e,t)=>{var r,n=(r=typeof document<"u"?document.currentScript?.src:void 0,typeof __filename<"u"&&(r||=__filename),function(e={}){function t(){return R.buffer!=U.buffer&&B(),U}function n(){return R.buffer!=U.buffer&&B(),F}function a(){return R.buffer!=U.buffer&&B(),I}function o(){return R.buffer!=U.buffer&&B(),D}function i(){return R.buffer!=U.buffer&&B(),k}var s,u,l,f,c,d=e,p=new Promise(((e,t)=>{s=e,u=t})),h=Object.assign({},d),g="./this.program",m=(e,t)=>{throw t},y="object"==typeof window,w="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,v=d.ENVIRONMENT_IS_PTHREAD||!1,O="";function _(e){return d.locateFile?d.locateFile(e,O):O+e}if(b){var T=(pe(),$(le)),E=(me(),$(he));O=w?E.dirname(O)+"/":__dirname+"/",l=(e,t)=>(e=Q(e)?new URL(e):E.normalize(e),T.readFileSync(e,t?void 0:"utf8")),c=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,r,n=!0)=>{e=Q(e)?new URL(e):E.normalize(e),T.readFile(e,n?void 0:"utf8",((e,a)=>{e?r(e):t(n?a.buffer:a)}))},!d.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),m=(e,t)=>{throw process.exitCode=e,t},global.Worker=we().Worker}else(y||w)&&(w?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),typeof r<"u"&&r&&(O=r),O=O.startsWith("blob:")?"":O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1),b||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)}));b&&typeof performance>"u"&&(global.performance=be().performance);var A=console.log.bind(console),S=console.error.bind(console);b&&(A=(...e)=>T.writeSync(1,e.join(" ")+"\n"),S=(...e)=>T.writeSync(2,e.join(" ")+"\n"));var M=A,C=S;Object.assign(d,h),h=null;var R,P,x,U,F,I,D,k,L=!1;function B(){var e=R.buffer;d.HEAP8=U=new Int8Array(e),d.HEAP16=new Int16Array(e),d.HEAPU8=F=new Uint8Array(e),d.HEAPU16=new Uint16Array(e),d.HEAP32=I=new Int32Array(e),d.HEAPU32=D=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=k=new Float64Array(e)}var N=16777216;if(v)R=d.wasmMemory;else if(d.wasmMemory)R=d.wasmMemory;else if(!((R=new WebAssembly.Memory({initial:N/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw C("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),b&&C("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");B(),N=R.buffer.byteLength;var H=[],G=[],W=[],j=0,z=null,Y=null;function V(){if(0==--j&&(null!==z&&(clearInterval(z),z=null),Y)){var e=Y;Y=null,e()}}function J(e){throw C(e="Aborted("+e+")"),L=!0,x=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),u(e),e}var q,X=e=>e.startsWith("data:application/octet-stream;base64,"),Q=e=>e.startsWith("file://");function Z(e){if(c)return c(e);throw"both async and sync fetching of the wasm failed"}function K(e,t,r){return function(e){if(y||w){if("function"==typeof fetch&&!Q(e))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()})).catch((()=>Z(e)));if(f)return new Promise(((t,r)=>{f(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>Z(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then(r,(e=>{C(`failed to asynchronously prepare wasm: ${e}`),J(e)}))}X(q="ort-wasm-threaded.wasm")||(q=_(q));var ee,te={799444:(e,t,r,a)=>{if(typeof d>"u"||!d.bb)return 1;if((e=Me(e>>>0)).startsWith("./")&&(e=e.substring(2)),!(e=d.bb.get(e)))return 2;if(a>>>=0,(t>>>=0)+(r>>>=0)>e.byteLength)return 3;try{return n().set(e.subarray(t,t+r),a>>>0),0}catch{return 4}}};function re(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var ne=e=>{e.terminate(),e.onmessage=()=>{}},ae=e=>{0==ce.Oa.length&&(fe(),ce.Xa(ce.Oa[0]));var t=ce.Oa.pop();if(!t)return 6;ce.Pa.push(t),ce.La[e.Na]=t,t.Na=e.Na;var r={cmd:"run",start_routine:e.gb,arg:e.cb,pthread_ptr:e.Na};return b&&t.unref(),t.postMessage(r,e.mb),0},oe=0,ie=(e,t,...r)=>(e=>{var t=St();return e=e(),Et(t),e})((()=>{for(var n=r.length,a=At(8*n),o=a>>>3,s=0;s<r.length;s++){var u=r[s];i()[o+s>>>0]=u}return wt(e,0,n,a,t)}));function se(e){if(v)return ie(0,1,e);x=e,0<oe||(ce.hb(),d.onExit?.(e),L=!0),m(e,new re(e))}var ue=e=>{if(x=e,v)throw ge(e),"unwind";se(e)};function fe(){var e=_("ort-wasm-threaded.worker.js");e=new Worker(e),ce.Oa.push(e)}var ce={Oa:[],Pa:[],ab:[],La:{},Va(){v?(ce.receiveObjectTransfer=ce.fb,ce.threadInitTLS=ce.$a,ce.setExitStatus=ce.Za):function(){for(var e=d.numThreads;e--;)fe();H.unshift((()=>{j++,function(e){v?e():Promise.all(ce.Oa.map(ce.Xa)).then(e)}((()=>V()))}))}()},Za:e=>x=e,pb:["$terminateWorker"],hb:()=>{for(var e of ce.Pa)ne(e);for(e of ce.Oa)ne(e);ce.Oa=[],ce.Pa=[],ce.La=[]},Ya:e=>{var t=e.Na;delete ce.La[t],ce.Oa.push(e),ce.Pa.splice(ce.Pa.indexOf(e),1),e.Na=0,bt(t)},fb(){},$a(){ce.ab.forEach((e=>e()))},Xa:e=>new Promise((t=>{e.onmessage=r=>{var n=(r=r.data).cmd;if(r.targetThread&&r.targetThread!=gt()){var a=ce.La[r.targetThread];a?a.postMessage(r,r.transferList):C(`Internal error! Worker sent a message "${n}" to target pthread ${r.targetThread}, but that thread no longer exists!`)}else"checkMailbox"===n?ze():"spawnThread"===n?ae(r):"cleanupThread"===n?ce.Ya(ce.La[r.thread]):"killThread"===n?(r=r.thread,n=ce.La[r],delete ce.La[r],ne(n),bt(r),ce.Pa.splice(ce.Pa.indexOf(n),1),n.Na=0):"cancelThread"===n?ce.La[r.thread].postMessage({cmd:"cancel"}):"loaded"===n?(e.loaded=!0,b&&!e.Na&&e.unref(),t(e)):"alert"===n?alert(`Thread ${r.threadId}: ${r.text}`):"setimmediate"===r.target?e.postMessage(r):"callHandler"===n?d[r.handler](...r.args):n&&C(`worker sent an unknown command ${n}`)},e.onerror=e=>{throw C(`worker sent an error! ${e.filename}:${e.lineno}: ${e.message}`),e},b&&(e.on("message",(t=>e.onmessage({data:t}))),e.on("error",(t=>e.onerror(t))));var n,a=[];for(n of["onExit"])d.hasOwnProperty(n)&&a.push(n);e.postMessage({cmd:"load",handlers:a,urlOrBlob:d.mainScriptUrlOrBlob||r,wasmMemory:R,wasmModule:P})}))};d.PThread=ce;var de=e=>{for(;0<e.length;)e.shift()(d)};function ge(e){if(v)return ie(1,0,e);ue(e)}d.establishStackSpace=()=>{var e=gt(),t=o()[e+52>>>2>>>0];e=o()[e+56>>>2>>>0],Tt(t,t-e),Et(t)};var ye,Oe=[];d.invokeEntryPoint=(e,t)=>{oe=0;var r=Oe[e];r||(e>=Oe.length&&(Oe.length=e+1),Oe[e]=r=ye.get(e)),e=r(t),0<oe?ce.Za(e):vt(e)};class _e{constructor(e){this.Ua=e-24}Va(e,t){o()[this.Ua+16>>>2>>>0]=0,o()[this.Ua+4>>>2>>>0]=e,o()[this.Ua+8>>>2>>>0]=t}}function Te(e,t,r,n){return v?ie(2,1,e,t,r,n):Ee(e,t,r,n)}function Ee(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,typeof SharedArrayBuffer>"u")return C("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return v&&0===a.length?Te(e,t,r,n):(e={gb:r,Na:e,cb:n,mb:a},v?(e.ob="spawnThread",postMessage(e,a),0):ae(e))}var Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Se=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&Ae)return Ae.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,r):e.subarray(t,r));for(n="";t<r;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))n+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?n+=String.fromCharCode(a):(a-=65536,n+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else n+=String.fromCharCode(a)}return n},Me=(e,t)=>(e>>>=0)?Se(n(),e,t):"";function Ce(e,t,r){return v?ie(3,1,e,t,r):0}function Re(e,t){if(v)return ie(4,1,e,t)}var Pe=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},xe=(e,t,r,n)=>{if(!(0<n))return 0;var a=r>>>=0;n=r+n-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-a},Ue=(e,t,r)=>xe(e,n(),t,r);function Fe(e,t){if(v)return ie(5,1,e,t)}function Ie(e,t,r){if(v)return ie(6,1,e,t,r)}function De(e,t,r){return v?ie(7,1,e,t,r):0}function ke(e,t){if(v)return ie(8,1,e,t)}function Le(e,t,r){if(v)return ie(9,1,e,t,r)}function Be(e,t,r,n){if(v)return ie(10,1,e,t,r,n)}function Ne(e,t,r,n){if(v)return ie(11,1,e,t,r,n)}function He(e,t,r,n){if(v)return ie(12,1,e,t,r,n)}function $e(e){if(v)return ie(13,1,e)}function Ge(e,t){if(v)return ie(14,1,e,t)}function We(e,t,r){if(v)return ie(15,1,e,t,r)}function je(e){e>>>=0,"function"==typeof Atomics.nb&&(Atomics.nb(a(),e>>>2,e).value.then(ze),e+=128,Atomics.store(a(),e>>>2,1))}d.__emscripten_thread_mailbox_await=je;var ze=()=>{var e=gt();if(e&&(je(e),e=Ot,!L))try{if(e(),!(0<oe))try{v?vt(x):ue(x)}catch(e){e instanceof re||"unwind"==e||m(1,e)}}catch(e){e instanceof re||"unwind"==e||m(1,e)}};d.checkMailbox=ze;var Ye=[],Ve=e=>e%4==0&&(e%100!=0||e%400==0),Je=[0,31,60,91,121,152,182,213,244,274,305,335],qe=[0,31,59,90,120,151,181,212,243,273,304,334];function Xe(e,t,r,n,a,o,i,s){return v?ie(16,1,e,t,r,n,a,o,i,s):-52}function Qe(e,t,r,n,a,o,i){if(v)return ie(17,1,e,t,r,n,a,o,i)}var Ze,Ke=[],et={},tt=()=>{if(!Ze){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"};for(e in et)void 0===et[e]?delete t[e]:t[e]=et[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ze=r}return Ze};function rt(e,r){if(v)return ie(18,1,e,r);e>>>=0,r>>>=0;var n=0;return tt().forEach(((a,i)=>{var s=r+n;for(i=o()[e+4*i>>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>>0]=a.charCodeAt(s);t()[i>>>0]=0,n+=a.length+1})),0}function nt(e,t){if(v)return ie(19,1,e,t);e>>>=0,t>>>=0;var r=tt();o()[e>>>2>>>0]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),o()[t>>>2>>>0]=n,0}function at(e){return v?ie(20,1,e):52}function ot(e,t,r,n){return v?ie(21,1,e,t,r,n):52}function it(e,t,r,n,a){return v?ie(22,1,e,t,r,n,a):70}var st=[null,[],[]];function ut(e,t,r,a){if(v)return ie(23,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var i=0,s=0;s<r;s++){var u=o()[t>>>2>>>0],l=o()[t+4>>>2>>>0];t+=8;for(var f=0;f<l;f++){var c=n()[u+f>>>0],d=st[e];0===c||10===c?((1===e?M:C)(Se(d,0)),d.length=0):d.push(c)}i+=l}return o()[a>>>2>>>0]=i,0}var lt=[31,29,31,30,31,30,31,31,30,31,30,31],ft=[31,28,31,30,31,30,31,31,30,31,30,31];function ct(e,r,n,i){function s(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function u(e,t){return s(e,t,"0")}function l(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function f(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.Qa;for(e=new Date(new Date(e.Ra+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(Ve(e.getFullYear())?lt:ft)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=f(new Date(e.getFullYear(),0,4)),r=f(r),0>=l(t,e)?0>=l(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,r>>>=0,n>>>=0,i>>>=0;var d=o()[i+40>>>2>>>0];for(var p in i={kb:a()[i>>>2>>>0],jb:a()[i+4>>>2>>>0],Sa:a()[i+8>>>2>>>0],Wa:a()[i+12>>>2>>>0],Ta:a()[i+16>>>2>>>0],Ra:a()[i+20>>>2>>>0],Ma:a()[i+24>>>2>>>0],Qa:a()[i+28>>>2>>>0],qb:a()[i+32>>>2>>>0],ib:a()[i+36>>>2>>>0],lb:d?Me(d):""},n=Me(n),d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(p,"g"),d[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),g="January February March April May June July August September October November December".split(" ");for(p in d={"%a":e=>h[e.Ma].substring(0,3),"%A":e=>h[e.Ma],"%b":e=>g[e.Ta].substring(0,3),"%B":e=>g[e.Ta],"%C":e=>u((e.Ra+1900)/100|0,2),"%d":e=>u(e.Wa,2),"%e":e=>s(e.Wa,2," "),"%g":e=>c(e).toString().substring(2),"%G":c,"%H":e=>u(e.Sa,2),"%I":e=>(0==(e=e.Sa)?e=12:12<e&&(e-=12),u(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.Ta-1;t+=(Ve(e.Ra+1900)?lt:ft)[r++]);return u(e.Wa+t,3)},"%m":e=>u(e.Ta+1,2),"%M":e=>u(e.jb,2),"%n":()=>"\n","%p":e=>0<=e.Sa&&12>e.Sa?"AM":"PM","%S":e=>u(e.kb,2),"%t":()=>"\t","%u":e=>e.Ma||7,"%U":e=>u(Math.floor((e.Qa+7-e.Ma)/7),2),"%V":e=>{var t=Math.floor((e.Qa+7-(e.Ma+6)%7)/7);if(2>=(e.Ma+371-e.Qa-2)%7&&t++,t)53==t&&(4==(r=(e.Ma+371-e.Qa)%7)||3==r&&Ve(e.Ra)||(t=1));else{t=52;var r=(e.Ma+7-e.Qa-1)%7;(4==r||5==r&&Ve(e.Ra%400-1))&&t++}return u(t,2)},"%w":e=>e.Ma,"%W":e=>u(Math.floor((e.Qa+7-(e.Ma+6)%7)/7),2),"%y":e=>(e.Ra+1900).toString().substring(2),"%Y":e=>e.Ra+1900,"%z":e=>(0<=(e=e.ib)?"+":"-")+("0000"+((e=Math.abs(e)/60)/60*100+e%60)).slice(-4),"%Z":e=>e.lb,"%%":()=>"%"},n=n.replace(/%%/g,"\0\0"),d)n.includes(p)&&(n=n.replace(new RegExp(p,"g"),d[p](i)));return p=function(e){var t=Array(Pe(e)+1);return xe(e,t,0,t.length),t}(n=n.replace(/\0\0/g,"%")),p.length>r?0:(((e,r)=>{t().set(e,r>>>0)})(p,e),p.length-1)}ce.Va();var dt=[se,ge,Te,Ce,Re,Fe,Ie,De,ke,Le,Be,Ne,He,$e,Ge,We,Xe,Qe,rt,nt,at,ot,it,ut],pt={b:function(e,t,r){throw new _e(e>>>=0).Va(t>>>0,r>>>0),e},L:function(e){mt(e>>>0,!w,1,!y,131072,!1),ce.$a()},j:function(e){e>>>=0,v?postMessage({cmd:"cleanupThread",thread:e}):ce.Ya(ce.La[e])},H:Ee,h:Ce,S:Re,D:Fe,F:Ie,T:De,Q:ke,J:Le,P:Be,n:Ne,E:He,B:$e,R:Ge,C:We,p:()=>1,z:function(e,t){(e>>>=0)==t>>>0?setTimeout(ze):v?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=ce.La[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,t,r,n,a){t>>>=0,r>>>=0,Ye.length=n,a=a>>>0>>>3;for(var o=0;o<n;o++)Ye[o]=i()[a+o>>>0];return e=t?te[t]:dt[e],ce.eb=r,r=e(...Ye),ce.eb=0,r},K:je,o:function(e){b&&ce.La[e>>>0].ref()},s:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>>2>>>0]=e.getUTCSeconds(),a()[r+4>>>2>>>0]=e.getUTCMinutes(),a()[r+8>>>2>>>0]=e.getUTCHours(),a()[r+12>>>2>>>0]=e.getUTCDate(),a()[r+16>>>2>>>0]=e.getUTCMonth(),a()[r+20>>>2>>>0]=e.getUTCFullYear()-1900,a()[r+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[r+28>>>2>>>0]=e},t:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),a()[r>>>2>>>0]=e.getSeconds(),a()[r+4>>>2>>>0]=e.getMinutes(),a()[r+8>>>2>>>0]=e.getHours(),a()[r+12>>>2>>>0]=e.getDate(),a()[r+16>>>2>>>0]=e.getMonth(),a()[r+20>>>2>>>0]=e.getFullYear()-1900,a()[r+24>>>2>>>0]=e.getDay(),t=(Ve(e.getFullYear())?Je:qe)[e.getMonth()]+e.getDate()-1|0,a()[r+28>>>2>>>0]=t,a()[r+36>>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t)),a()[r+32>>>2>>>0]=e},u:function(e){e>>>=0;var t=new Date(a()[e+20>>>2>>>0]+1900,a()[e+16>>>2>>>0],a()[e+12>>>2>>>0],a()[e+8>>>2>>>0],a()[e+4>>>2>>>0],a()[e>>>2>>>0],0),r=a()[e+32>>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=new Date(t.getFullYear(),0,1).getTimezoneOffset(),s=Math.min(i,o);return 0>r?a()[e+32>>>2>>>0]=+(o!=i&&s==n):0<r!=(s==n)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<r?s:o)-n))),a()[e+24>>>2>>>0]=t.getDay(),r=(Ve(t.getFullYear())?Je:qe)[t.getMonth()]+t.getDate()-1|0,a()[e+28>>>2>>>0]=r,a()[e>>>2>>>0]=t.getSeconds(),a()[e+4>>>2>>>0]=t.getMinutes(),a()[e+8>>>2>>>0]=t.getHours(),a()[e+12>>>2>>>0]=t.getDate(),a()[e+16>>>2>>>0]=t.getMonth(),a()[e+20>>>2>>>0]=t.getYear(),e=t.getTime(),e=isNaN(e)?-1:e/1e3,_t((ee=e,1<=+Math.abs(ee)?0<ee?+Math.floor(ee/4294967296)>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)),e>>>0},q:Xe,r:Qe,y:function(e,t,r,n){e>>>=0,t>>>=0,r>>>=0,n>>>=0;var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var l=u.getTimezoneOffset(),f=Math.max(i,l);o()[e>>>2>>>0]=60*f,a()[t>>>2>>>0]=+(i!=l),s=(e=e=>e.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1])(s),u=e(u),l<i?(Ue(s,r,17),Ue(u,n,17)):(Ue(s,n,17),Ue(u,r,17))},c:()=>{J("")},O:function(e,t,r){e>>>=0,t>>>=0,r>>>=0,Ke.length=0;for(var s;s=n()[t++>>>0];){var u=105!=s;r+=(u&=112!=s)&&r%8?4:0,Ke.push(112==s?o()[r>>>2>>>0]:105==s?a()[r>>>2>>>0]:i()[r>>>3>>>0]),r+=u?8:4}return te[e](...Ke)},k:()=>{},i:()=>Date.now(),U:()=>{throw oe+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>b?(qt(),$(ve)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var t=n().length;if(e<=t||4294901760<e)return!1;for(var r=1;4>=r;r*=2){var a=t*(1+.2/r);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a);e:{o=(o.min.call(o,4294901760,a+(65536-a%65536)%65536)-R.buffer.byteLength+65535)/65536;try{R.grow(o),B();var i=1;break e}catch{}i=void 0}if(i)return!0}return!1},M:rt,N:nt,G:ue,g:at,m:ot,v:it,l:ut,a:R||d.wasmMemory,w:ct,d:function(e,t,r,n){return ct(e>>>0,t>>>0,r>>>0,n>>>0)}},ht=function(){function e(e,t){return ht=e.exports,ht=function(){var e=ht,t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).va=t(e.va),e.wa=r(e.wa),e.emscripten_main_runtime_thread_id=t(e.emscripten_main_runtime_thread_id),e.Ja=r(e.Ja),e.Ka=t(e.Ka),e}(),ce.ab.push(ht.ya),ye=ht.za,G.unshift(ht.V),P=t,V(),ht}var t={a:pt};if(j++,d.instantiateWasm)try{return d.instantiateWasm(t,e)}catch(e){C(`Module.instantiateWasm callback failed with error: ${e}`),u(e)}return function(e,t){var r=q;return"function"!=typeof WebAssembly.instantiateStreaming||X(r)||Q(r)||b||"function"!=typeof fetch?K(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return C(`wasm streaming compile failed: ${n}`),C("falling back to ArrayBuffer instantiation"),K(r,e,t)}))))}(t,(function(t){e(t.instance,t.module)})).catch(u),{}}();d._OrtInit=(e,t)=>(d._OrtInit=ht.W)(e,t),d._OrtGetLastError=(e,t)=>(d._OrtGetLastError=ht.X)(e,t),d._OrtCreateSessionOptions=(e,t,r,n,a,o,i,s,u,l)=>(d._OrtCreateSessionOptions=ht.Y)(e,t,r,n,a,o,i,s,u,l),d._OrtAppendExecutionProvider=(e,t)=>(d._OrtAppendExecutionProvider=ht.Z)(e,t),d._OrtAddFreeDimensionOverride=(e,t,r)=>(d._OrtAddFreeDimensionOverride=ht._)(e,t,r),d._OrtAddSessionConfigEntry=(e,t,r)=>(d._OrtAddSessionConfigEntry=ht.$)(e,t,r),d._OrtReleaseSessionOptions=e=>(d._OrtReleaseSessionOptions=ht.aa)(e),d._OrtCreateSession=(e,t,r)=>(d._OrtCreateSession=ht.ba)(e,t,r),d._OrtReleaseSession=e=>(d._OrtReleaseSession=ht.ca)(e),d._OrtGetInputOutputCount=(e,t,r)=>(d._OrtGetInputOutputCount=ht.da)(e,t,r),d._OrtGetInputName=(e,t)=>(d._OrtGetInputName=ht.ea)(e,t),d._OrtGetOutputName=(e,t)=>(d._OrtGetOutputName=ht.fa)(e,t),d._OrtFree=e=>(d._OrtFree=ht.ga)(e),d._OrtCreateTensor=(e,t,r,n,a,o)=>(d._OrtCreateTensor=ht.ha)(e,t,r,n,a,o),d._OrtGetTensorData=(e,t,r,n,a)=>(d._OrtGetTensorData=ht.ia)(e,t,r,n,a),d._OrtReleaseTensor=e=>(d._OrtReleaseTensor=ht.ja)(e),d._OrtCreateRunOptions=(e,t,r,n)=>(d._OrtCreateRunOptions=ht.ka)(e,t,r,n),d._OrtAddRunConfigEntry=(e,t,r)=>(d._OrtAddRunConfigEntry=ht.la)(e,t,r),d._OrtReleaseRunOptions=e=>(d._OrtReleaseRunOptions=ht.ma)(e),d._OrtCreateBinding=e=>(d._OrtCreateBinding=ht.na)(e),d._OrtBindInput=(e,t,r)=>(d._OrtBindInput=ht.oa)(e,t,r),d._OrtBindOutput=(e,t,r,n)=>(d._OrtBindOutput=ht.pa)(e,t,r,n),d._OrtClearBoundOutputs=e=>(d._OrtClearBoundOutputs=ht.qa)(e),d._OrtReleaseBinding=e=>(d._OrtReleaseBinding=ht.ra)(e),d._OrtRunWithBinding=(e,t,r,n,a)=>(d._OrtRunWithBinding=ht.sa)(e,t,r,n,a),d._OrtRun=(e,t,r,n,a,o,i,s)=>(d._OrtRun=ht.ta)(e,t,r,n,a,o,i,s),d._OrtEndProfiling=e=>(d._OrtEndProfiling=ht.ua)(e);var gt=d._pthread_self=()=>(gt=d._pthread_self=ht.va)();d._malloc=e=>(d._malloc=ht.wa)(e),d._free=e=>(d._free=ht.xa)(e),d.__emscripten_tls_init=()=>(d.__emscripten_tls_init=ht.ya)();var mt=d.__emscripten_thread_init=(e,t,r,n,a,o)=>(mt=d.__emscripten_thread_init=ht.Aa)(e,t,r,n,a,o);d.__emscripten_thread_crashed=()=>(d.__emscripten_thread_crashed=ht.Ba)();var yt,wt=(e,t,r,n,a)=>(wt=ht.Ca)(e,t,r,n,a),bt=e=>(bt=ht.Da)(e),vt=d.__emscripten_thread_exit=e=>(vt=d.__emscripten_thread_exit=ht.Ea)(e),Ot=()=>(Ot=ht.Fa)(),_t=e=>(_t=ht.Ga)(e),Tt=(e,t)=>(Tt=ht.Ha)(e,t),Et=e=>(Et=ht.Ia)(e),At=e=>(At=ht.Ja)(e),St=()=>(St=ht.Ka)();function Mt(){if(!(0<j))if(v)s(d),v||de(G),startWorker(d);else{if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)H.unshift(d.preRun.shift());de(H),0<j||yt||(yt=!0,d.calledRun=!0,L||(v||de(G),s(d),v||de(W)))}}return d.wasmMemory=R,d.stackSave=()=>St(),d.stackRestore=e=>Et(e),d.stackAlloc=e=>At(e),d.keepRuntimeAlive=()=>0<oe,d.UTF8ToString=Me,d.stringToUTF8=Ue,d.lengthBytesUTF8=Pe,d.ExitStatus=re,d.PThread=ce,Y=function e(){yt||Mt(),yt||(Y=e)},Mt(),p});"object"==typeof e&&"object"==typeof t?t.exports=n:"function"==typeof define&&define.amd&&define([],(()=>n))})),Qt=N(((e,t)=>{t.exports='"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(...e){var a=e.join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,a+`\n`);return}console.error(a)}function threadAlert(...e){var a=e.join(" ");postMessage({cmd:"alert",text:a,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,a)=>{var r=Module.wasmModule;Module.wasmModule=null;var t=new WebAssembly.Instance(r,e);return a(t)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let r=[];self.onmessage=t=>r.push(t),self.startWorker=t=>{Module=t,postMessage({cmd:"loaded"});for(let s of r)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const t of e.data.handlers)Module[t]=(...s)=>{postMessage({cmd:"callHandler",handler:t,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var a=URL.createObjectURL(e.data.urlOrBlob);importScripts(a),URL.revokeObjectURL(a)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(r){if(r!="unwind")throw r}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(r){throw Module.__emscripten_thread_crashed?.(),r}}self.onmessage=handleMessage;\n'})),Zt=B((()=>{_e=ye(),Te=Xt(),Ae=!1,Se=!1,Me=!1,Ce=e=>{if(1===e)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+e+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+e+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},Re=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},Pe=(e,t)=>e?"ort-training-wasm-simd.wasm":t?"ort-wasm-threaded.wasm":"ort-wasm.wasm",xe=async e=>{if(Ae)return Promise.resolve();if(Se)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Me)throw new Error("previous call to 'initializeWebAssembly()' failed.");Se=!0;let t=e.initTimeout,r=e.numThreads,n=e.simd,a=Ce(r),o=n&&Re(),i=e.wasmPaths,s="string"==typeof i?i:void 0,u=Pe(o,a),l="object"==typeof i?i[u]:void 0,f=!1,c=[];if(t>0&&c.push(new Promise((e=>{setTimeout((()=>{f=!0,e()}),t)}))),c.push(new Promise(((e,t)=>{let n=a?Te:_e,o={locateFile:(e,t)=>a&&e.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([Qt()],{type:"text/javascript"})):e.endsWith(".wasm")?l||(s??t)+u:t+e};if(a)if(o.numThreads=r,typeof Blob>"u")o.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let e=`var ortWasmThreaded=${n.toString()};`;o.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}n(o).then((t=>{Se=!1,Ae=!0,Ee=t,e()}),(e=>{Se=!1,Me=!0,t(e)}))}))),await Promise.race(c),f)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},Ue=()=>{if(Ae&&Ee)return Ee;throw new Error("WebAssembly is not initialized yet.")}})),Kt=B((()=>{Zt(),Fe=(e,t)=>{let r=Ue(),n=r.lengthBytesUTF8(e)+1,a=r._malloc(n);return r.stringToUTF8(e,a,n),t.push(a),a},Ie=(e,t,r,n)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,a])=>{let o=t?t+e:e;if("object"==typeof a)Ie(a,o+".",r,n);else if("string"==typeof a||"number"==typeof a)n(o,a.toString());else{if("boolean"!=typeof a)throw new Error("Can't handle extra config type: "+typeof a);n(o,a?"1":"0")}}))},De=e=>{let t=Ue(),r=t.stackSave();try{let r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);let n=t.HEAP32[r/4],a=t.HEAPU32[r/4+1],o=a?t.UTF8ToString(a):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${o}`)}finally{t.stackRestore(r)}}})),er=B((()=>{Zt(),Kt(),ke=e=>{let t=Ue(),r=0,n=[],a=e||{};try{if(void 0===e?.logSeverityLevel)a.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===e?.logVerbosityLevel)a.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===e?.terminate&&(a.terminate=!1);let o=0;return void 0!==e?.tag&&(o=Fe(e.tag,n)),r=t._OrtCreateRunOptions(a.logSeverityLevel,a.logVerbosityLevel,!!a.terminate,o),0===r&&De("Can't create run options."),void 0!==e?.extra&&Ie(e.extra,"",new WeakSet,((e,a)=>{let o=Fe(e,n),i=Fe(a,n);0!==t._OrtAddRunConfigEntry(r,o,i)&&De(`Can't set a run config entry: ${e} - ${a}.`)})),[r,n]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),n.forEach((e=>t._free(e))),e}}})),tr=B((()=>{Zt(),Kt(),Le=e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}},Be=e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}},Ne=e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});let t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)},He=(e,t,r)=>{for(let n of t){let t="string"==typeof n?n:n.name;switch(t){case"webnn":if(t="WEBNN","string"!=typeof n){let t=n;if(t?.deviceType){let n=Fe("deviceType",r),a=Fe(t.deviceType,r);0!==Ue()._OrtAddSessionConfigEntry(e,n,a)&&De(`Can't set a session config entry: 'deviceType' - ${t.deviceType}.`)}if(t?.numThreads){let n=t.numThreads;("number"!=typeof n||!Number.isInteger(n)||n<0)&&(n=0);let a=Fe("numThreads",r),o=Fe(n.toString(),r);0!==Ue()._OrtAddSessionConfigEntry(e,a,o)&&De(`Can't set a session config entry: 'numThreads' - ${t.numThreads}.`)}if(t?.powerPreference){let n=Fe("powerPreference",r),a=Fe(t.powerPreference,r);0!==Ue()._OrtAddSessionConfigEntry(e,n,a)&&De(`Can't set a session config entry: 'powerPreference' - ${t.powerPreference}.`)}}break;case"webgpu":if(t="JS","string"!=typeof n){let t=n;if(t?.preferredLayout){if("NCHW"!==t.preferredLayout&&"NHWC"!==t.preferredLayout)throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${t.preferredLayout}`);let n=Fe("preferredLayout",r),a=Fe(t.preferredLayout,r);0!==Ue()._OrtAddSessionConfigEntry(e,n,a)&&De(`Can't set a session config entry: 'preferredLayout' - ${t.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}let a=Fe(t,r);0!==Ue()._OrtAppendExecutionProvider(e,a)&&De(`Can't append execution provider: ${t}.`)}},$e=e=>{let t=Ue(),r=0,n=[],a=e||{};Ne(a);try{let e=Le(a.graphOptimizationLevel??"all"),o=Be(a.executionMode??"sequential"),i="string"==typeof a.logId?Fe(a.logId,n):0,s=a.logSeverityLevel??2;if(!Number.isInteger(s)||s<0||s>4)throw new Error(`log serverity level is not valid: ${s}`);let u=a.logVerbosityLevel??0;if(!Number.isInteger(u)||u<0||u>4)throw new Error(`log verbosity level is not valid: ${u}`);let l="string"==typeof a.optimizedModelFilePath?Fe(a.optimizedModelFilePath,n):0;if(r=t._OrtCreateSessionOptions(e,!!a.enableCpuMemArena,!!a.enableMemPattern,o,!!a.enableProfiling,0,i,s,u,l),0===r&&De("Can't create session options."),a.executionProviders&&He(r,a.executionProviders,n),void 0!==a.enableGraphCapture){if("boolean"!=typeof a.enableGraphCapture)throw new Error(`enableGraphCapture must be a boolean value: ${a.enableGraphCapture}`);let e=Fe("enableGraphCapture",n),o=Fe(a.enableGraphCapture.toString(),n);0!==t._OrtAddSessionConfigEntry(r,e,o)&&De(`Can't set a session config entry: 'enableGraphCapture' - ${a.enableGraphCapture}.`)}if(a.freeDimensionOverrides)for(let[e,o]of Object.entries(a.freeDimensionOverrides)){if("string"!=typeof e)throw new Error(`free dimension override name must be a string: ${e}`);if("number"!=typeof o||!Number.isInteger(o)||o<0)throw new Error(`free dimension override value must be a non-negative integer: ${o}`);let a=Fe(e,n);0!==t._OrtAddFreeDimensionOverride(r,a,o)&&De(`Can't set a free dimension override: ${e} - ${o}.`)}return void 0!==a.extra&&Ie(a.extra,"",new WeakSet,((e,a)=>{let o=Fe(e,n),i=Fe(a,n);0!==t._OrtAddSessionConfigEntry(r,o,i)&&De(`Can't set a session config entry: ${e} - ${a}.`)})),[r,n]}catch(e){throw 0!==r&&t._OrtReleaseSessionOptions(r),n.forEach((e=>t._free(e))),e}}})),rr=B((()=>{Ge=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},We=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},je=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],ze=e=>{switch(e){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},Ye=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}},Ve=e=>"float32"===e||"float16"===e||"int32"===e||"int64"===e||"uint32"===e||"uint8"===e||"bool"===e,Je=e=>{switch(e){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${e}`)}}})),nr=B((()=>{qe=async e=>{if("string"!=typeof e)return e instanceof Blob?new Uint8Array(await e.arrayBuffer()):e instanceof Uint8Array?e:new Uint8Array(e);if(!(typeof process<"u"&&process.versions&&process.versions.node)){let t=await fetch(e);if(!t.ok)throw new Error(`failed to load external data file: ${e}`);let r=t.headers.get("Content-Length"),n=r?parseInt(r,10):0;if(n<1073741824)return new Uint8Array(await t.arrayBuffer());{if(!t.body)throw new Error(`failed to load external data file: ${e}, no response body.`);let r,a=t.body.getReader();try{r=new ArrayBuffer(n)}catch(e){if(!(e instanceof RangeError))throw e;{let e=Math.ceil(n/65536);r=new WebAssembly.Memory({initial:e,maximum:e}).buffer}}let o=0;for(;;){let{done:e,value:t}=await a.read();if(e)break;let n=t.byteLength;new Uint8Array(r,o,n).set(t),o+=n}return new Uint8Array(r,0,n)}}try{return new Uint8Array(await(void 0)(e))}catch(t){if("ERR_FS_FILE_TOO_LARGE"===t.code){let t=(void 0)(e),r=[];for await(let e of t)r.push(e);return new Uint8Array(Buffer.concat(r))}throw t}}})),ar=B((()=>{er(),tr(),rr(),Zt(),Kt(),nr(),Xe=(e,t)=>{0!==Ue()._OrtInit(e,t)&&De("Can't initialize onnxruntime.")},Qe=async e=>{Xe(e.wasm.numThreads,Ye(e.logLevel))},Ze=async(e,t)=>{},Ke=new Map,et=e=>{let t=Ue(),r=t.stackSave();try{let r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&De("Can't get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}},tt=e=>{let t=Ue(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can't create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},rt=async(e,t)=>{let r,n,a=Ue();Array.isArray(e)?[r,n]=e:e.buffer===a.HEAPU8.buffer?[r,n]=[e.byteOffset,e.byteLength]:[r,n]=tt(e);let o=0,i=0,s=[],u=[],l=[];try{if([i,s]=$e(t),t?.externalData&&a.mountExternalData){let e=[];for(let r of t.externalData){let t="string"==typeof r?r:r.path;e.push(qe("string"==typeof r?r:r.data).then((e=>{a.mountExternalData(t,e)})))}await Promise.all(e)}o=await a._OrtCreateSession(r,n,i),0===o&&De("Can't create a session.");let[e,f]=et(o),c=!!t?.enableGraphCapture,d=[],p=[];for(let t=0;t<e;t++){let e=a._OrtGetInputName(o,t);0===e&&De("Can't get an input name."),u.push(e),d.push(a.UTF8ToString(e))}for(let e=0;e<f;e++){let t=a._OrtGetOutputName(o,e);0===t&&De("Can't get an output name."),l.push(t);let r=a.UTF8ToString(t);p.push(r)}let h=null;return Ke.set(o,[o,u,l,h,c,!1]),[o,d,p]}catch(e){throw u.forEach((e=>a._OrtFree(e))),l.forEach((e=>a._OrtFree(e))),0!==o&&a._OrtReleaseSession(o),e}finally{a._free(r),0!==i&&a._OrtReleaseSessionOptions(i),s.forEach((e=>a._free(e))),a.unmountExternalData?.()}},nt=e=>{let t=Ue(),r=Ke.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);let[n,a,o,i,s]=r;i&&(s&&t._OrtClearBoundOutputs(i.handle),t._OrtReleaseBinding(i.handle)),t.jsepOnReleaseSession?.(e),a.forEach((e=>t._OrtFree(e))),o.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),Ke.delete(e)},at=(e,t,r,n,a,o=!1)=>{if(!e)return void t.push(0);let i,s,u=Ue(),l=e[0],f=e[1],c=e[3];if("string"===l&&"gpu-buffer"===c)throw new Error("String tensor is not supported on GPU.");if(o&&"gpu-buffer"!==c)throw new Error(`External buffer must be provided for input/output index ${a} when enableGraphCapture is true.`);if("gpu-buffer"===c){let t=e[2].gpuBuffer,r=je(Ge(l));s=f.reduce(((e,t)=>e*t),1)*r;let o=u.jsepRegisterBuffer;if(!o)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');i=o(n,a,t,s)}else{let t=e[2];if(Array.isArray(t)){s=4*t.length,i=u._malloc(s),r.push(i);let e=i/4;for(let n=0;n<t.length;n++){if("string"!=typeof t[n])throw new TypeError(`tensor data at index ${n} is not a string`);u.HEAPU32[e++]=Fe(t[n],r)}}else s=t.byteLength,i=u._malloc(s),r.push(i),u.HEAPU8.set(new Uint8Array(t.buffer,t.byteOffset,s),i)}let d=u.stackSave(),p=u.stackAlloc(4*f.length);try{let e=p/4;f.forEach((t=>u.HEAP32[e++]=t));let r=u._OrtCreateTensor(Ge(l),i,s,p,f.length,Je(c));0===r&&De(`Can't create tensor for input/output. session=${n}, index=${a}.`),t.push(r)}finally{u.stackRestore(d)}},ot=async(e,t,r,n,a,o)=>{let i=Ue(),s=Ke.get(e);if(!s)throw new Error(`cannot run inference. invalid session id: ${e}`);let u=s[0],l=s[1],f=s[2],c=s[3],d=s[4],p=(s[5],t.length),h=n.length,g=0,m=[],y=[],w=[],b=[],v=i.stackSave(),O=i.stackAlloc(4*p),_=i.stackAlloc(4*p),T=i.stackAlloc(4*h),E=i.stackAlloc(4*h);try{[g,m]=ke(o);for(let n=0;n<p;n++)at(r[n],y,b,e,t[n],d);for(let t=0;t<h;t++)at(a[t],w,b,e,p+n[t],d);let s,v=O/4,A=_/4,S=T/4,M=E/4;for(let e=0;e<p;e++)i.HEAPU32[v++]=y[e],i.HEAPU32[A++]=l[t[e]];for(let e=0;e<h;e++)i.HEAPU32[S++]=w[e],i.HEAPU32[M++]=f[n[e]];i.jsepOnRunStart?.(u),s=await i._OrtRun(u,_,O,p,E,h,T,g),0!==s&&De("failed to call OrtRun().");let C=[];for(let e=0;e<h;e++){let t=i.HEAPU32[T/4+e];if(t===w[e]){C.push(a[e]);continue}let r,o=i.stackSave(),s=i.stackAlloc(16),u=!1,l=0;try{0!==i._OrtGetTensorData(t,s,s+4,s+8,s+12)&&De(`Can't access output tensor data on index ${e}.`);let a=s/4,o=i.HEAPU32[a++];l=i.HEAPU32[a++];let f=i.HEAPU32[a++],d=i.HEAPU32[a++],p=[];for(let e=0;e<d;e++)p.push(i.HEAPU32[f/4+e]);i._OrtFree(f);let h=p.reduce(((e,t)=>e*t),1);r=We(o);let g=c?.outputPreferredLocations[n[e]];if("string"===r){if("gpu-buffer"===g)throw new Error("String tensor is not supported on GPU.");let e=[],t=l/4;for(let r=0;r<h;r++){let n=i.HEAPU32[t++],a=r===h-1?void 0:i.HEAPU32[t]-n;e.push(i.UTF8ToString(n,a))}C.push([r,p,e,"cpu"])}else if("gpu-buffer"===g&&h>0){let e=i.jsepGetBuffer;if(!e)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let n=e(l),a=je(o);if(void 0===a||!Ve(r))throw new Error(`Unsupported data type: ${r}`);u=!0,C.push([r,p,{gpuBuffer:n,download:i.jsepCreateDownloader(n,h*a,r),dispose:()=>{i._OrtReleaseTensor(t)}},"gpu-buffer"])}else{let e=new(ze(r))(h);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(i.HEAPU8.subarray(l,l+e.byteLength)),C.push([r,p,e,"cpu"])}}finally{i.stackRestore(o),"string"===r&&l&&i._free(l),u||i._OrtReleaseTensor(t)}}return c&&!d&&(i._OrtClearBoundOutputs(c.handle),Ke.set(e,[u,l,f,c,d,!1])),C}finally{i.stackRestore(v),y.forEach((e=>i._OrtReleaseTensor(e))),w.forEach((e=>i._OrtReleaseTensor(e))),b.forEach((e=>i._free(e))),0!==g&&i._OrtReleaseRunOptions(g),m.forEach((e=>i._free(e)))}},it=e=>{let t=Ue(),r=Ke.get(e);if(!r)throw new Error("invalid session id");let n=r[0],a=t._OrtEndProfiling(n);0===a&&De("Can't get an profile file name."),t._OrtFree(a)},st=e=>{let t=[];for(let r of e){let e=r[2];!Array.isArray(e)&&"buffer"in e&&t.push(e.buffer)}return t}})),or=N(((e,t)=>{t.exports='/*!\n * ONNX Runtime Web v1.18.0\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n"use strict";(()=>{var vt=Object.defineProperty;var qr=Object.getOwnPropertyDescriptor;var Vr=Object.getOwnPropertyNames;var Jr=Object.prototype.hasOwnProperty;var _t=(u,d)=>()=>(u&&(d=u(u=0)),d);var Ze=(u,d)=>()=>(d||u((d={exports:{}}).exports,d),d.exports),Et=(u,d)=>{for(var a in d)vt(u,a,{get:d[a],enumerable:!0})},Xr=(u,d,a,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let f of Vr(d))!Jr.call(u,f)&&f!==a&&vt(u,f,{get:()=>d[f],enumerable:!(h=qr(d,f))||h.enumerable});return u};var et=u=>Xr(vt({},"__esModule",{value:!0}),u);var St={};Et(St,{createReadStream:()=>lr,readFile:()=>Qr,readFileSync:()=>Kr});var Qr,Kr,lr,Tt=_t(()=>{Qr=void 0,Kr=void 0,lr=void 0});var At={};Et(At,{join:()=>Zr});var Zr,Mt=_t(()=>{Zr=void 0});var pr=Ze((dr,Ct)=>{"use strict";var cr=(()=>{var u=typeof document<"u"?document.currentScript?.src:void 0;return typeof __filename<"u"&&(u||=__filename),function(d={}){var a=d,h,f,O=new Promise((t,o)=>{h=t,f=o}),g=Object.assign({},a),s="./this.program",T=typeof window=="object",U=typeof importScripts=="function",H=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",A="",I,J,R;if(H){var B=(Tt(),et(St)),D=(Mt(),et(At));A=U?D.dirname(A)+"/":__dirname+"/",I=(t,o)=>(t=ce(t)?new URL(t):D.normalize(t),B.readFileSync(t,o?void 0:"utf8")),R=t=>(t=I(t,!0),t.buffer||(t=new Uint8Array(t)),t),J=(t,o,i,c=!0)=>{t=ce(t)?new URL(t):D.normalize(t),B.readFile(t,c?void 0:"utf8",(w,_)=>{w?i(w):o(c?_.buffer:_)})},!a.thisProgram&&1<process.argv.length&&(s=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2)}else(T||U)&&(U?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),u&&(A=u),A.startsWith("blob:")?A="":A=A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1),I=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.send(null),o.responseText},U&&(R=t=>{var o=new XMLHttpRequest;return o.open("GET",t,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),J=(t,o,i)=>{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?o(c.response):i()},c.onerror=i,c.send(null)});var M=console.log.bind(console),L=console.error.bind(console);Object.assign(a,g),g=null;var W,de=!1,pe,Z,E,X,Pe;function le(){var t=W.buffer;a.HEAP8=pe=new Int8Array(t),a.HEAP16=new Int16Array(t),a.HEAPU8=Z=new Uint8Array(t),a.HEAPU16=new Uint16Array(t),a.HEAP32=E=new Int32Array(t),a.HEAPU32=X=new Uint32Array(t),a.HEAPF32=new Float32Array(t),a.HEAPF64=Pe=new Float64Array(t)}var Ie=[],ne=[],Q=[],we=0,me=null,x=null;function se(t){throw t="Aborted("+t+")",L(t),de=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),f(t),t}var xe=t=>t.startsWith("data:application/octet-stream;base64,"),ce=t=>t.startsWith("file://"),ye;if(ye="ort-training-wasm-simd.wasm",!xe(ye)){var ae=ye;ye=a.locateFile?a.locateFile(ae,A):A+ae}function ee(t){if(R)return R(t);throw"both async and sync fetching of the wasm failed"}function Ye(t){if(T||U){if(typeof fetch=="function"&&!ce(t))return fetch(t,{credentials:"same-origin"}).then(o=>{if(!o.ok)throw`failed to load wasm binary file at \'${t}\'`;return o.arrayBuffer()}).catch(()=>ee(t));if(J)return new Promise((o,i)=>{J(t,c=>o(new Uint8Array(c)),i)})}return Promise.resolve().then(()=>ee(t))}function Oe(t,o,i){return Ye(t).then(c=>WebAssembly.instantiate(c,o)).then(i,c=>{L(`failed to asynchronously prepare wasm: ${c}`),se(c)})}function Ue(t,o){var i=ye;return typeof WebAssembly.instantiateStreaming!="function"||xe(i)||ce(i)||H||typeof fetch!="function"?Oe(i,t,o):fetch(i,{credentials:"same-origin"}).then(c=>WebAssembly.instantiateStreaming(c,t).then(o,function(w){return L(`wasm streaming compile failed: ${w}`),L("falling back to ArrayBuffer instantiation"),Oe(i,t,o)}))}var ve,Te={869736:(t,o,i,c)=>{if(typeof a>"u"||!a.La)return 1;if(t=ue(t>>>0),t.startsWith("./")&&(t=t.substring(2)),t=a.La.get(t),!t)return 2;if(o>>>=0,i>>>=0,o+i>t.byteLength)return 3;try{return Z.set(t.subarray(o,o+i),c>>>0>>>0),0}catch{return 4}}};class _e{constructor(o){this.Ja=o-24}}var ge=0,Be=0,te=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,re=(t,o,i)=>{o>>>=0;var c=o+i;for(i=o;t[i]&&!(i>=c);)++i;if(16<i-o&&t.buffer&&te)return te.decode(t.subarray(o,i));for(c="";o<i;){var w=t[o++];if(w&128){var _=t[o++]&63;if((w&224)==192)c+=String.fromCharCode((w&31)<<6|_);else{var P=t[o++]&63;w=(w&240)==224?(w&15)<<12|_<<6|P:(w&7)<<18|_<<12|P<<6|t[o++]&63,65536>w?c+=String.fromCharCode(w):(w-=65536,c+=String.fromCharCode(55296|w>>10,56320|w&1023))}}else c+=String.fromCharCode(w)}return c},ue=(t,o)=>(t>>>=0)?re(Z,t,o):"",Ee=t=>{for(var o=0,i=0;i<t.length;++i){var c=t.charCodeAt(i);127>=c?o++:2047>=c?o+=2:55296<=c&&57343>=c?(o+=4,++i):o+=3}return o},Se=(t,o,i,c)=>{if(i>>>=0,!(0<c))return 0;var w=i;c=i+c-1;for(var _=0;_<t.length;++_){var P=t.charCodeAt(_);if(55296<=P&&57343>=P){var j=t.charCodeAt(++_);P=65536+((P&1023)<<10)|j&1023}if(127>=P){if(i>=c)break;o[i++>>>0]=P}else{if(2047>=P){if(i+1>=c)break;o[i++>>>0]=192|P>>6}else{if(65535>=P){if(i+2>=c)break;o[i++>>>0]=224|P>>12}else{if(i+3>=c)break;o[i++>>>0]=240|P>>18,o[i++>>>0]=128|P>>12&63}o[i++>>>0]=128|P>>6&63}o[i++>>>0]=128|P&63}}return o[i>>>0]=0,i-w},Le=t=>t%4===0&&(t%100!==0||t%400===0),je=[0,31,60,91,121,152,182,213,244,274,305,335],rt=[0,31,59,90,120,151,181,212,243,273,304,334],Ae=[],Ge={},ke=()=>{if(!We){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s||"./this.program"},o;for(o in Ge)Ge[o]===void 0?delete t[o]:t[o]=Ge[o];var i=[];for(o in t)i.push(`${o}=${t[o]}`);We=i}return We},We,nt=[null,[],[]],Fe=[31,29,31,30,31,30,31,31,30,31,30,31],at=[31,28,31,30,31,30,31,31,30,31,30,31];function G(t){var o=Array(Ee(t)+1);return Se(t,o,0,o.length),o}function qe(t,o,i,c){function w(p,k,$){for(p=typeof p=="number"?p.toString():p||"";p.length<k;)p=$[0]+p;return p}function _(p,k){return w(p,k,"0")}function P(p,k){function $(Ke){return 0>Ke?-1:0<Ke?1:0}var Me;return(Me=$(p.getFullYear()-k.getFullYear()))===0&&(Me=$(p.getMonth()-k.getMonth()))===0&&(Me=$(p.getDate()-k.getDate())),Me}function j(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function be(p){var k=p.Fa;for(p=new Date(new Date(p.Ga+1900,0,1).getTime());0<k;){var $=p.getMonth(),Me=(Le(p.getFullYear())?Fe:at)[$];if(k>Me-p.getDate())k-=Me-p.getDate()+1,p.setDate(1),11>$?p.setMonth($+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+k);break}}return $=new Date(p.getFullYear()+1,0,4),k=j(new Date(p.getFullYear(),0,4)),$=j($),0>=P(k,p)?0>=P($,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}t>>>=0,o>>>=0,i>>>=0,c>>>=0;var oe=X[c+40>>>2>>>0];c={Oa:E[c>>>2>>>0],Na:E[c+4>>>2>>>0],Ha:E[c+8>>>2>>>0],Ka:E[c+12>>>2>>>0],Ia:E[c+16>>>2>>>0],Ga:E[c+20>>>2>>>0],Aa:E[c+24>>>2>>>0],Fa:E[c+28>>>2>>>0],Qa:E[c+32>>>2>>>0],Ma:E[c+36>>>2>>>0],Pa:oe?ue(oe):""},i=ue(i),oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ie in oe)i=i.replace(new RegExp(ie,"g"),oe[ie]);var Qe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Re="January February March April May June July August September October November December".split(" ");oe={"%a":p=>Qe[p.Aa].substring(0,3),"%A":p=>Qe[p.Aa],"%b":p=>Re[p.Ia].substring(0,3),"%B":p=>Re[p.Ia],"%C":p=>_((p.Ga+1900)/100|0,2),"%d":p=>_(p.Ka,2),"%e":p=>w(p.Ka,2," "),"%g":p=>be(p).toString().substring(2),"%G":be,"%H":p=>_(p.Ha,2),"%I":p=>(p=p.Ha,p==0?p=12:12<p&&(p-=12),_(p,2)),"%j":p=>{for(var k=0,$=0;$<=p.Ia-1;k+=(Le(p.Ga+1900)?Fe:at)[$++]);return _(p.Ka+k,3)},"%m":p=>_(p.Ia+1,2),"%M":p=>_(p.Na,2),"%n":()=>`\n`,"%p":p=>0<=p.Ha&&12>p.Ha?"AM":"PM","%S":p=>_(p.Oa,2),"%t":()=>"\t","%u":p=>p.Aa||7,"%U":p=>_(Math.floor((p.Fa+7-p.Aa)/7),2),"%V":p=>{var k=Math.floor((p.Fa+7-(p.Aa+6)%7)/7);if(2>=(p.Aa+371-p.Fa-2)%7&&k++,k)k==53&&($=(p.Aa+371-p.Fa)%7,$==4||$==3&&Le(p.Ga)||(k=1));else{k=52;var $=(p.Aa+7-p.Fa-1)%7;($==4||$==5&&Le(p.Ga%400-1))&&k++}return _(k,2)},"%w":p=>p.Aa,"%W":p=>_(Math.floor((p.Fa+7-(p.Aa+6)%7)/7),2),"%y":p=>(p.Ga+1900).toString().substring(2),"%Y":p=>p.Ga+1900,"%z":p=>{p=p.Ma;var k=0<=p;return p=Math.abs(p)/60,(k?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.Pa,"%%":()=>"%"},i=i.replace(/%%/g,"\\0\\0");for(ie in oe)i.includes(ie)&&(i=i.replace(new RegExp(ie,"g"),oe[ie](c)));return i=i.replace(/\\0\\0/g,"%"),ie=G(i),ie.length>o?0:(pe.set(ie,t>>>0),ie.length-1)}var Ve={a:function(t,o,i){t>>>=0;var c=new _e(t);throw X[c.Ja+16>>>2>>>0]=0,X[c.Ja+4>>>2>>>0]=o>>>0,X[c.Ja+8>>>2>>>0]=i>>>0,ge=t,Be++,ge},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,I:function(t,o,i){return o>>>=0,Z.copyWithin(t>>>0>>>0,o>>>0,o+(i>>>0)>>>0)},n:function(t,o,i){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,i>>>=0,t=new Date(1e3*t),E[i>>>2>>>0]=t.getUTCSeconds(),E[i+4>>>2>>>0]=t.getUTCMinutes(),E[i+8>>>2>>>0]=t.getUTCHours(),E[i+12>>>2>>>0]=t.getUTCDate(),E[i+16>>>2>>>0]=t.getUTCMonth(),E[i+20>>>2>>>0]=t.getUTCFullYear()-1900,E[i+24>>>2>>>0]=t.getUTCDay(),E[i+28>>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(t,o,i){t=o+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*o:NaN,i>>>=0,t=new Date(1e3*t),E[i>>>2>>>0]=t.getSeconds(),E[i+4>>>2>>>0]=t.getMinutes(),E[i+8>>>2>>>0]=t.getHours(),E[i+12>>>2>>>0]=t.getDate(),E[i+16>>>2>>>0]=t.getMonth(),E[i+20>>>2>>>0]=t.getFullYear()-1900,E[i+24>>>2>>>0]=t.getDay(),E[i+28>>>2>>>0]=(Le(t.getFullYear())?je:rt)[t.getMonth()]+t.getDate()-1|0,E[i+36>>>2>>>0]=-(60*t.getTimezoneOffset()),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();var c=new Date(t.getFullYear(),0,1).getTimezoneOffset();E[i+32>>>2>>>0]=(o!=c&&t.getTimezoneOffset()==Math.min(c,o))|0},p:function(t){t>>>=0;var o=new Date(E[t+20>>>2>>>0]+1900,E[t+16>>>2>>>0],E[t+12>>>2>>>0],E[t+8>>>2>>>0],E[t+4>>>2>>>0],E[t>>>2>>>0],0),i=E[t+32>>>2>>>0],c=o.getTimezoneOffset(),w=new Date(o.getFullYear(),6,1).getTimezoneOffset(),_=new Date(o.getFullYear(),0,1).getTimezoneOffset(),P=Math.min(_,w);return 0>i?E[t+32>>>2>>>0]=+(w!=_&&P==c):0<i!=(P==c)&&(w=Math.max(_,w),o.setTime(o.getTime()+6e4*((0<i?P:w)-c))),E[t+24>>>2>>>0]=o.getDay(),E[t+28>>>2>>>0]=(Le(o.getFullYear())?je:rt)[o.getMonth()]+o.getDate()-1|0,E[t>>>2>>>0]=o.getSeconds(),E[t+4>>>2>>>0]=o.getMinutes(),E[t+8>>>2>>>0]=o.getHours(),E[t+12>>>2>>>0]=o.getDate(),E[t+16>>>2>>>0]=o.getMonth(),E[t+20>>>2>>>0]=o.getYear(),t=o.getTime(),t=isNaN(t)?-1:t/1e3,Je((ve=t,1<=+Math.abs(ve)?0<ve?+Math.floor(ve/4294967296)>>>0:~~+Math.ceil((ve-+(~~ve>>>0))/4294967296)>>>0:0)),t>>>0},l:function(){return-52},m:function(){},t:function(t,o,i,c){i>>>=0,c>>>=0;var w=new Date().getFullYear(),_=new Date(w,0,1),P=new Date(w,6,1);w=_.getTimezoneOffset();var j=P.getTimezoneOffset();X[t>>>0>>>2>>>0]=60*Math.max(w,j),E[o>>>0>>>2>>>0]=+(w!=j),t=be=>be.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],_=t(_),P=t(P),j<w?(Se(_,Z,i,17),Se(P,Z,c,17)):(Se(_,Z,c,17),Se(P,Z,i,17))},d:()=>{se("")},B:function(t,o,i){t>>>=0,o>>>=0,i>>>=0,Ae.length=0;for(var c;c=Z[o++>>>0];){var w=c!=105;w&=c!=112,i+=w&&i%8?4:0,Ae.push(c==112?X[i>>>2>>>0]:c==105?E[i>>>2>>>0]:Pe[i>>>3>>>0]),i+=w?8:4}return Te[t](...Ae)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),s:function(t){t>>>=0;var o=Z.length;if(4294901760<t)return!1;for(var i=1;4>=i;i*=2){var c=o*(1+.2/i);c=Math.min(c,t+100663296);var w=Math;c=Math.max(t,c);e:{w=(w.min.call(w,4294901760,c+(65536-c%65536)%65536)-W.buffer.byteLength+65535)/65536;try{W.grow(w),le();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},C:function(t,o){t>>>=0,o>>>=0;var i=0;return ke().forEach((c,w)=>{var _=o+i;for(w=X[t+4*w>>>2>>>0]=_,_=0;_<c.length;++_)pe[w++>>>0]=c.charCodeAt(_);pe[w>>>0]=0,i+=c.length+1}),0},D:function(t,o){t>>>=0,o>>>=0;var i=ke();X[t>>>2>>>0]=i.length;var c=0;return i.forEach(w=>c+=w.length+1),X[o>>>2>>>0]=c,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(t,o,i,c){o>>>=0,i>>>=0,c>>>=0;for(var w=0,_=0;_<i;_++){var P=X[o>>>2>>>0],j=X[o+4>>>2>>>0];o+=8;for(var be=0;be<j;be++){var oe=Z[P+be>>>0],ie=nt[t];oe===0||oe===10?((t===1?M:L)(re(ie,0)),ie.length=0):ie.push(oe)}w+=j}return X[c>>>2>>>0]=w,0},r:qe,c:function(t,o,i,c){return qe(t>>>0,o>>>0,i>>>0,c>>>0)}},S=function(){function t(i){return S=i.exports,S=it(),W=S.K,le(),ne.unshift(S.L),we--,we==0&&(me!==null&&(clearInterval(me),me=null),x&&(i=x,x=null,i())),S}var o={a:Ve};if(we++,a.instantiateWasm)try{return a.instantiateWasm(o,t)}catch(i){L(`Module.instantiateWasm callback failed with error: ${i}`),f(i)}return Ue(o,function(i){t(i.instance)}).catch(f),{}}();a._OrtInit=(t,o)=>(a._OrtInit=S.M)(t,o),a._OrtGetLastError=(t,o)=>(a._OrtGetLastError=S.N)(t,o),a._OrtCreateSessionOptions=(t,o,i,c,w,_,P,j,be,oe)=>(a._OrtCreateSessionOptions=S.O)(t,o,i,c,w,_,P,j,be,oe),a._OrtAppendExecutionProvider=(t,o)=>(a._OrtAppendExecutionProvider=S.P)(t,o),a._OrtAddFreeDimensionOverride=(t,o,i)=>(a._OrtAddFreeDimensionOverride=S.Q)(t,o,i),a._OrtAddSessionConfigEntry=(t,o,i)=>(a._OrtAddSessionConfigEntry=S.R)(t,o,i),a._OrtReleaseSessionOptions=t=>(a._OrtReleaseSessionOptions=S.S)(t),a._OrtCreateSession=(t,o,i)=>(a._OrtCreateSession=S.T)(t,o,i),a._OrtReleaseSession=t=>(a._OrtReleaseSession=S.U)(t),a._OrtGetInputOutputCount=(t,o,i)=>(a._OrtGetInputOutputCount=S.V)(t,o,i),a._OrtGetInputName=(t,o)=>(a._OrtGetInputName=S.W)(t,o),a._OrtGetOutputName=(t,o)=>(a._OrtGetOutputName=S.X)(t,o),a._OrtFree=t=>(a._OrtFree=S.Y)(t),a._OrtCreateTensor=(t,o,i,c,w,_)=>(a._OrtCreateTensor=S.Z)(t,o,i,c,w,_),a._OrtGetTensorData=(t,o,i,c,w)=>(a._OrtGetTensorData=S._)(t,o,i,c,w),a._OrtReleaseTensor=t=>(a._OrtReleaseTensor=S.$)(t),a._OrtCreateRunOptions=(t,o,i,c)=>(a._OrtCreateRunOptions=S.aa)(t,o,i,c),a._OrtAddRunConfigEntry=(t,o,i)=>(a._OrtAddRunConfigEntry=S.ba)(t,o,i),a._OrtReleaseRunOptions=t=>(a._OrtReleaseRunOptions=S.ca)(t),a._OrtCreateBinding=t=>(a._OrtCreateBinding=S.da)(t),a._OrtBindInput=(t,o,i)=>(a._OrtBindInput=S.ea)(t,o,i),a._OrtBindOutput=(t,o,i,c)=>(a._OrtBindOutput=S.fa)(t,o,i,c),a._OrtClearBoundOutputs=t=>(a._OrtClearBoundOutputs=S.ga)(t),a._OrtReleaseBinding=t=>(a._OrtReleaseBinding=S.ha)(t),a._OrtRunWithBinding=(t,o,i,c,w)=>(a._OrtRunWithBinding=S.ia)(t,o,i,c,w),a._OrtRun=(t,o,i,c,w,_,P,j)=>(a._OrtRun=S.ja)(t,o,i,c,w,_,P,j),a._OrtEndProfiling=t=>(a._OrtEndProfiling=S.ka)(t),a._OrtTrainingLoadCheckpoint=(t,o)=>(a._OrtTrainingLoadCheckpoint=S.la)(t,o),a._OrtTrainingReleaseCheckpoint=t=>(a._OrtTrainingReleaseCheckpoint=S.ma)(t),a._OrtTrainingCreateSession=(t,o,i,c,w,_,P,j)=>(a._OrtTrainingCreateSession=S.na)(t,o,i,c,w,_,P,j),a._OrtTrainingLazyResetGrad=t=>(a._OrtTrainingLazyResetGrad=S.oa)(t),a._OrtTrainingRunTrainStep=(t,o,i,c,w,_)=>(a._OrtTrainingRunTrainStep=S.pa)(t,o,i,c,w,_),a._OrtTrainingOptimizerStep=(t,o)=>(a._OrtTrainingOptimizerStep=S.qa)(t,o),a._OrtTrainingEvalStep=(t,o,i,c,w,_)=>(a._OrtTrainingEvalStep=S.ra)(t,o,i,c,w,_),a._OrtTrainingGetParametersSize=(t,o,i)=>(a._OrtTrainingGetParametersSize=S.sa)(t,o,i),a._OrtTrainingCopyParametersToBuffer=(t,o,i,c)=>(a._OrtTrainingCopyParametersToBuffer=S.ta)(t,o,i,c),a._OrtTrainingCopyParametersFromBuffer=(t,o,i,c)=>(a._OrtTrainingCopyParametersFromBuffer=S.ua)(t,o,i,c),a._OrtTrainingGetModelInputOutputCount=(t,o,i,c)=>(a._OrtTrainingGetModelInputOutputCount=S.va)(t,o,i,c),a._OrtTrainingGetModelInputOutputName=(t,o,i,c)=>(a._OrtTrainingGetModelInputOutputName=S.wa)(t,o,i,c),a._OrtTrainingReleaseSession=t=>(a._OrtTrainingReleaseSession=S.xa)(t),a._malloc=t=>(a._malloc=S.ya)(t),a._free=t=>(a._free=S.za)(t);var Je=t=>(Je=S.Ba)(t),ot=t=>(ot=S.Ca)(t),C=t=>(C=S.Da)(t),Ne=()=>(Ne=S.Ea)();function it(){var t=S;t=Object.assign({},t);var o=i=>c=>i(c)>>>0;return t.ya=o(t.ya),t.Da=o(t.Da),t.Ea=(i=>()=>i()>>>0)(t.Ea),t}a.stackSave=()=>Ne(),a.stackRestore=t=>ot(t),a.stackAlloc=t=>C(t),a.UTF8ToString=ue,a.stringToUTF8=(t,o,i)=>Se(t,Z,o,i),a.lengthBytesUTF8=Ee;var De;x=function t(){De||Xe(),De||(x=t)};function Xe(){if(!(0<we)){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;){var t=a.preRun.shift();Ie.unshift(t)}for(;0<Ie.length;)Ie.shift()(a);if(!(0<we||De||(De=!0,a.calledRun=!0,de))){for(;0<ne.length;)ne.shift()(a);for(h(a);0<Q.length;)Q.shift()(a)}}}return Xe(),O}})();typeof dr=="object"&&typeof Ct=="object"?Ct.exports=cr:typeof define=="function"&&define.amd&&define([],()=>cr)});var mr=Ze(()=>{});var gr=Ze(()=>{});var hr={};Et(hr,{cpus:()=>en});var en,yr=_t(()=>{en=void 0});var Or=Ze((wr,Ft)=>{"use strict";var br=(()=>{var u=typeof document<"u"?document.currentScript?.src:void 0;return typeof __filename<"u"&&(u||=__filename),function(d={}){function a(){return Q.buffer!=se.buffer&&ee(),se}function h(){return Q.buffer!=se.buffer&&ee(),xe}function f(){return Q.buffer!=se.buffer&&ee(),ce}function O(){return Q.buffer!=se.buffer&&ee(),ye}function g(){return Q.buffer!=se.buffer&&ee(),ae}var s=d,T,U,H=new Promise((e,r)=>{T=e,U=r}),A=Object.assign({},s),I="./this.program",J=(e,r)=>{throw r},R=typeof window=="object",B=typeof importScripts=="function",D=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",M=s.ENVIRONMENT_IS_PTHREAD||!1,L="";function W(e){return s.locateFile?s.locateFile(e,L):L+e}var de,pe,Z;if(D){var E=(Tt(),et(St)),X=(Mt(),et(At));L=B?X.dirname(L)+"/":__dirname+"/",de=(e,r)=>(e=ue(e)?new URL(e):X.normalize(e),E.readFileSync(e,r?void 0:"utf8")),Z=e=>(e=de(e,!0),e.buffer||(e=new Uint8Array(e)),e),pe=(e,r,n,l=!0)=>{e=ue(e)?new URL(e):X.normalize(e),E.readFile(e,l?void 0:"utf8",(b,y)=>{b?n(b):r(l?y.buffer:y)})},!s.thisProgram&&1<process.argv.length&&(I=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),J=(e,r)=>{throw process.exitCode=e,r},global.Worker=mr().Worker}else(R||B)&&(B?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),typeof u<"u"&&u&&(L=u),L.startsWith("blob:")?L="":L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1),D||(de=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},B&&(Z=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),pe=(e,r,n)=>{var l=new XMLHttpRequest;l.open("GET",e,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?r(l.response):n()},l.onerror=n,l.send(null)}));D&&typeof performance>"u"&&(global.performance=gr().performance);var Pe=console.log.bind(console),le=console.error.bind(console);D&&(Pe=(...e)=>E.writeSync(1,e.join(" ")+`\n`),le=(...e)=>E.writeSync(2,e.join(" ")+`\n`));var Ie=Pe,ne=le;Object.assign(s,A),A=null;var Q,we,me=!1,x,se,xe,ce,ye,ae;function ee(){var e=Q.buffer;s.HEAP8=se=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAPU8=xe=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAP32=ce=new Int32Array(e),s.HEAPU32=ye=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=ae=new Float64Array(e)}var Ye=16777216;if(M)Q=s.wasmMemory;else if(s.wasmMemory)Q=s.wasmMemory;else if(Q=new WebAssembly.Memory({initial:Ye/65536,maximum:65536,shared:!0}),!(Q.buffer instanceof SharedArrayBuffer))throw ne("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),D&&ne("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");ee(),Ye=Q.buffer.byteLength;var Oe=[],Ue=[],ve=[],Te=0,_e=null,ge=null;function Be(){if(Te--,Te==0&&(_e!==null&&(clearInterval(_e),_e=null),ge)){var e=ge;ge=null,e()}}function te(e){throw e="Aborted("+e+")",ne(e),me=!0,x=1,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),U(e),e}var re=e=>e.startsWith("data:application/octet-stream;base64,"),ue=e=>e.startsWith("file://"),Ee;Ee="ort-wasm-threaded.wasm",re(Ee)||(Ee=W(Ee));function Se(e){if(Z)return Z(e);throw"both async and sync fetching of the wasm failed"}function Le(e){if(R||B){if(typeof fetch=="function"&&!ue(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at \'${e}\'`;return r.arrayBuffer()}).catch(()=>Se(e));if(pe)return new Promise((r,n)=>{pe(e,l=>r(new Uint8Array(l)),n)})}return Promise.resolve().then(()=>Se(e))}function je(e,r,n){return Le(e).then(l=>WebAssembly.instantiate(l,r)).then(n,l=>{ne(`failed to asynchronously prepare wasm: ${l}`),te(l)})}function rt(e,r){var n=Ee;return typeof WebAssembly.instantiateStreaming!="function"||re(n)||ue(n)||D||typeof fetch!="function"?je(n,e,r):fetch(n,{credentials:"same-origin"}).then(l=>WebAssembly.instantiateStreaming(l,e).then(r,function(b){return ne(`wasm streaming compile failed: ${b}`),ne("falling back to ArrayBuffer instantiation"),je(n,e,r)}))}var Ae,Ge={799444:(e,r,n,l)=>{if(typeof s>"u"||!s.bb)return 1;if(e=j(e>>>0),e.startsWith("./")&&(e=e.substring(2)),e=s.bb.get(e),!e)return 2;if(r>>>=0,n>>>=0,l>>>=0,r+n>e.byteLength)return 3;try{return h().set(e.subarray(r,r+n),l>>>0),0}catch{return 4}}};function ke(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var We=e=>{e.terminate(),e.onmessage=()=>{}},nt=e=>{C.Oa.length==0&&(Je(),C.Xa(C.Oa[0]));var r=C.Oa.pop();if(!r)return 6;C.Pa.push(r),C.La[e.Na]=r,r.Na=e.Na;var n={cmd:"run",start_routine:e.gb,arg:e.cb,pthread_ptr:e.Na};return D&&r.unref(),r.postMessage(n,e.mb),0},Fe=0,at=e=>{var r=Ot();return e=e(),ft(r),e},G=(e,r,...n)=>at(()=>{for(var l=n.length,b=wt(8*l),y=b>>>3,v=0;v<n.length;v++){var q=n[v];g()[y+v>>>0]=q}return rr(e,0,l,b,r)});function qe(e){if(M)return G(0,1,e);x=e,0<Fe||(C.hb(),s.onExit?.(e),me=!0),J(e,new ke(e))}var Ve=e=>{if(x=e,M)throw it(e),"unwind";qe(e)};function S(){for(var e=s.numThreads;e--;)Je();Oe.unshift(()=>{Te++,ot(()=>Be())})}function Je(){var e=W("ort-wasm-threaded.worker.js");e=new Worker(e),C.Oa.push(e)}function ot(e){M?e():Promise.all(C.Oa.map(C.Xa)).then(e)}var C={Oa:[],Pa:[],ab:[],La:{},Va(){M?(C.receiveObjectTransfer=C.fb,C.threadInitTLS=C.$a,C.setExitStatus=C.Za):S()},Za:e=>x=e,pb:["$terminateWorker"],hb:()=>{for(var e of C.Pa)We(e);for(e of C.Oa)We(e);C.Oa=[],C.Pa=[],C.La=[]},Ya:e=>{var r=e.Na;delete C.La[r],C.Oa.push(e),C.Pa.splice(C.Pa.indexOf(e),1),e.Na=0,yt(r)},fb(){},$a(){C.ab.forEach(e=>e())},Xa:e=>new Promise(r=>{e.onmessage=y=>{y=y.data;var v=y.cmd;if(y.targetThread&&y.targetThread!=ut()){var q=C.La[y.targetThread];q?q.postMessage(y,y.transferList):ne(`Internal error! Worker sent a message "${v}" to target pthread ${y.targetThread}, but that thread no longer exists!`)}else v==="checkMailbox"?st():v==="spawnThread"?nt(y):v==="cleanupThread"?C.Ya(C.La[y.thread]):v==="killThread"?(y=y.thread,v=C.La[y],delete C.La[y],We(v),yt(y),C.Pa.splice(C.Pa.indexOf(v),1),v.Na=0):v==="cancelThread"?C.La[y.thread].postMessage({cmd:"cancel"}):v==="loaded"?(e.loaded=!0,D&&!e.Na&&e.unref(),r(e)):v==="alert"?alert(`Thread ${y.threadId}: ${y.text}`):y.target==="setimmediate"?e.postMessage(y):v==="callHandler"?s[y.handler](...y.args):v&&ne(`worker sent an unknown command ${v}`)},e.onerror=y=>{throw ne(`worker sent an error! ${y.filename}:${y.lineno}: ${y.message}`),y},D&&(e.on("message",y=>e.onmessage({data:y})),e.on("error",y=>e.onerror(y)));var n=[],l=["onExit"],b;for(b of l)s.hasOwnProperty(b)&&n.push(b);e.postMessage({cmd:"load",handlers:n,urlOrBlob:s.mainScriptUrlOrBlob||u,wasmMemory:Q,wasmModule:we})})};s.PThread=C;var Ne=e=>{for(;0<e.length;)e.shift()(s)};s.establishStackSpace=()=>{var e=ut(),r=O()[e+52>>>2>>>0];e=O()[e+56>>>2>>>0],or(r,r-e),ft(r)};function it(e){if(M)return G(1,0,e);Ve(e)}var De=[],Xe;s.invokeEntryPoint=(e,r)=>{Fe=0;var n=De[e];n||(e>=De.length&&(De.length=e+1),De[e]=n=Xe.get(e)),e=n(r),0<Fe?C.Za(e):bt(e)};class t{constructor(r){this.Ua=r-24}Va(r,n){O()[this.Ua+16>>>2>>>0]=0,O()[this.Ua+4>>>2>>>0]=r,O()[this.Ua+8>>>2>>>0]=n}}var o=0,i=0;function c(e,r,n,l){return M?G(2,1,e,r,n,l):w(e,r,n,l)}function w(e,r,n,l){if(e>>>=0,r>>>=0,n>>>=0,l>>>=0,typeof SharedArrayBuffer>"u")return ne("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var b=[];return M&&b.length===0?c(e,r,n,l):(e={gb:n,Na:e,cb:l,mb:b},M?(e.ob="spawnThread",postMessage(e,b),0):nt(e))}var _=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,P=(e,r,n)=>{r>>>=0;var l=r+n;for(n=r;e[n]&&!(n>=l);)++n;if(16<n-r&&e.buffer&&_)return _.decode(e.buffer instanceof SharedArrayBuffer?e.slice(r,n):e.subarray(r,n));for(l="";r<n;){var b=e[r++];if(b&128){var y=e[r++]&63;if((b&224)==192)l+=String.fromCharCode((b&31)<<6|y);else{var v=e[r++]&63;b=(b&240)==224?(b&15)<<12|y<<6|v:(b&7)<<18|y<<12|v<<6|e[r++]&63,65536>b?l+=String.fromCharCode(b):(b-=65536,l+=String.fromCharCode(55296|b>>10,56320|b&1023))}}else l+=String.fromCharCode(b)}return l},j=(e,r)=>(e>>>=0)?P(h(),e,r):"";function be(e,r,n){return M?G(3,1,e,r,n):0}function oe(e,r){if(M)return G(4,1,e,r)}var ie=e=>{for(var r=0,n=0;n<e.length;++n){var l=e.charCodeAt(n);127>=l?r++:2047>=l?r+=2:55296<=l&&57343>=l?(r+=4,++n):r+=3}return r},Qe=(e,r,n,l)=>{if(n>>>=0,!(0<l))return 0;var b=n;l=n+l-1;for(var y=0;y<e.length;++y){var v=e.charCodeAt(y);if(55296<=v&&57343>=v){var q=e.charCodeAt(++y);v=65536+((v&1023)<<10)|q&1023}if(127>=v){if(n>=l)break;r[n++>>>0]=v}else{if(2047>=v){if(n+1>=l)break;r[n++>>>0]=192|v>>6}else{if(65535>=v){if(n+2>=l)break;r[n++>>>0]=224|v>>12}else{if(n+3>=l)break;r[n++>>>0]=240|v>>18,r[n++>>>0]=128|v>>12&63}r[n++>>>0]=128|v>>6&63}r[n++>>>0]=128|v&63}}return r[n>>>0]=0,n-b},Re=(e,r,n)=>Qe(e,h(),r,n);function p(e,r){if(M)return G(5,1,e,r)}function k(e,r,n){if(M)return G(6,1,e,r,n)}function $(e,r,n){return M?G(7,1,e,r,n):0}function Me(e,r){if(M)return G(8,1,e,r)}function Ke(e,r,n){if(M)return G(9,1,e,r,n)}function Rt(e,r,n,l){if(M)return G(10,1,e,r,n,l)}function It(e,r,n,l){if(M)return G(11,1,e,r,n,l)}function Bt(e,r,n,l){if(M)return G(12,1,e,r,n,l)}function kt(e){if(M)return G(13,1,e)}function Wt(e,r){if(M)return G(14,1,e,r)}function Nt(e,r,n){if(M)return G(15,1,e,r,n)}function dt(e){e>>>=0,typeof Atomics.nb=="function"&&(Atomics.nb(f(),e>>>2,e).value.then(st),e+=128,Atomics.store(f(),e>>>2,1))}s.__emscripten_thread_mailbox_await=dt;var st=()=>{var e=ut();if(e&&(dt(e),e=nr,!me))try{if(e(),!(0<Fe))try{M?bt(x):Ve(x)}catch(r){r instanceof ke||r=="unwind"||J(1,r)}}catch(r){r instanceof ke||r=="unwind"||J(1,r)}};s.checkMailbox=st;var pt=[],$e=e=>e%4===0&&(e%100!==0||e%400===0),Ht=[0,31,60,91,121,152,182,213,244,274,305,335],Gt=[0,31,59,90,120,151,181,212,243,273,304,334];function $t(e,r,n,l,b,y,v,q){return M?G(16,1,e,r,n,l,b,y,v,q):-52}function zt(e,r,n,l,b,y,v){if(M)return G(17,1,e,r,n,l,b,y,v)}var mt=[],gt={},Yt=()=>{if(!ht){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:I||"./this.program"},r;for(r in gt)gt[r]===void 0?delete e[r]:e[r]=gt[r];var n=[];for(r in e)n.push(`${r}=${e[r]}`);ht=n}return ht},ht;function jt(e,r){if(M)return G(18,1,e,r);e>>>=0,r>>>=0;var n=0;return Yt().forEach((l,b)=>{var y=r+n;for(b=O()[e+4*b>>>2>>>0]=y,y=0;y<l.length;++y)a()[b++>>>0]=l.charCodeAt(y);a()[b>>>0]=0,n+=l.length+1}),0}function qt(e,r){if(M)return G(19,1,e,r);e>>>=0,r>>>=0;var n=Yt();O()[e>>>2>>>0]=n.length;var l=0;return n.forEach(b=>l+=b.length+1),O()[r>>>2>>>0]=l,0}function Vt(e){return M?G(20,1,e):52}function Jt(e,r,n,l){return M?G(21,1,e,r,n,l):52}function Xt(e,r,n,l,b){return M?G(22,1,e,r,n,l,b):70}var Hr=[null,[],[]];function Qt(e,r,n,l){if(M)return G(23,1,e,r,n,l);r>>>=0,n>>>=0,l>>>=0;for(var b=0,y=0;y<n;y++){var v=O()[r>>>2>>>0],q=O()[r+4>>>2>>>0];r+=8;for(var Ce=0;Ce<q;Ce++){var fe=h()[v+Ce>>>0],he=Hr[e];fe===0||fe===10?((e===1?Ie:ne)(P(he,0)),he.length=0):he.push(fe)}b+=q}return O()[l>>>2>>>0]=b,0}var Kt=[31,29,31,30,31,30,31,31,30,31,30,31],Zt=[31,28,31,30,31,30,31,31,30,31,30,31];function Gr(e){var r=Array(ie(e)+1);return Qe(e,r,0,r.length),r}var $r=(e,r)=>{a().set(e,r>>>0)};function er(e,r,n,l){function b(m,N,V){for(m=typeof m=="number"?m.toString():m||"";m.length<N;)m=V[0]+m;return m}function y(m,N){return b(m,N,"0")}function v(m,N){function V(fr){return 0>fr?-1:0<fr?1:0}var He;return(He=V(m.getFullYear()-N.getFullYear()))===0&&(He=V(m.getMonth()-N.getMonth()))===0&&(He=V(m.getDate()-N.getDate())),He}function q(m){switch(m.getDay()){case 0:return new Date(m.getFullYear()-1,11,29);case 1:return m;case 2:return new Date(m.getFullYear(),0,3);case 3:return new Date(m.getFullYear(),0,2);case 4:return new Date(m.getFullYear(),0,1);case 5:return new Date(m.getFullYear()-1,11,31);case 6:return new Date(m.getFullYear()-1,11,30)}}function Ce(m){var N=m.Qa;for(m=new Date(new Date(m.Ra+1900,0,1).getTime());0<N;){var V=m.getMonth(),He=($e(m.getFullYear())?Kt:Zt)[V];if(N>He-m.getDate())N-=He-m.getDate()+1,m.setDate(1),11>V?m.setMonth(V+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1));else{m.setDate(m.getDate()+N);break}}return V=new Date(m.getFullYear()+1,0,4),N=q(new Date(m.getFullYear(),0,4)),V=q(V),0>=v(N,m)?0>=v(V,m)?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}e>>>=0,r>>>=0,n>>>=0,l>>>=0;var fe=O()[l+40>>>2>>>0];l={kb:f()[l>>>2>>>0],jb:f()[l+4>>>2>>>0],Sa:f()[l+8>>>2>>>0],Wa:f()[l+12>>>2>>>0],Ta:f()[l+16>>>2>>>0],Ra:f()[l+20>>>2>>>0],Ma:f()[l+24>>>2>>>0],Qa:f()[l+28>>>2>>>0],qb:f()[l+32>>>2>>>0],ib:f()[l+36>>>2>>>0],lb:fe?j(fe):""},n=j(n),fe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var he in fe)n=n.replace(new RegExp(he,"g"),fe[he]);var sr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ur="January February March April May June July August September October November December".split(" ");fe={"%a":m=>sr[m.Ma].substring(0,3),"%A":m=>sr[m.Ma],"%b":m=>ur[m.Ta].substring(0,3),"%B":m=>ur[m.Ta],"%C":m=>y((m.Ra+1900)/100|0,2),"%d":m=>y(m.Wa,2),"%e":m=>b(m.Wa,2," "),"%g":m=>Ce(m).toString().substring(2),"%G":Ce,"%H":m=>y(m.Sa,2),"%I":m=>(m=m.Sa,m==0?m=12:12<m&&(m-=12),y(m,2)),"%j":m=>{for(var N=0,V=0;V<=m.Ta-1;N+=($e(m.Ra+1900)?Kt:Zt)[V++]);return y(m.Wa+N,3)},"%m":m=>y(m.Ta+1,2),"%M":m=>y(m.jb,2),"%n":()=>`\n`,"%p":m=>0<=m.Sa&&12>m.Sa?"AM":"PM","%S":m=>y(m.kb,2),"%t":()=>"\t","%u":m=>m.Ma||7,"%U":m=>y(Math.floor((m.Qa+7-m.Ma)/7),2),"%V":m=>{var N=Math.floor((m.Qa+7-(m.Ma+6)%7)/7);if(2>=(m.Ma+371-m.Qa-2)%7&&N++,N)N==53&&(V=(m.Ma+371-m.Qa)%7,V==4||V==3&&$e(m.Ra)||(N=1));else{N=52;var V=(m.Ma+7-m.Qa-1)%7;(V==4||V==5&&$e(m.Ra%400-1))&&N++}return y(N,2)},"%w":m=>m.Ma,"%W":m=>y(Math.floor((m.Qa+7-(m.Ma+6)%7)/7),2),"%y":m=>(m.Ra+1900).toString().substring(2),"%Y":m=>m.Ra+1900,"%z":m=>{m=m.ib;var N=0<=m;return m=Math.abs(m)/60,(N?"+":"-")+("0000"+(m/60*100+m%60)).slice(-4)},"%Z":m=>m.lb,"%%":()=>"%"},n=n.replace(/%%/g,"\\0\\0");for(he in fe)n.includes(he)&&(n=n.replace(new RegExp(he,"g"),fe[he](l)));return n=n.replace(/\\0\\0/g,"%"),he=Gr(n),he.length>r?0:($r(he,e),he.length-1)}C.Va();var zr=[qe,it,c,be,oe,p,k,$,Me,Ke,Rt,It,Bt,kt,Wt,Nt,$t,zt,jt,qt,Vt,Jt,Xt,Qt],Yr={b:function(e,r,n){throw e>>>=0,new t(e).Va(r>>>0,n>>>0),o=e,i++,o},L:function(e){tr(e>>>0,!B,1,!R,131072,!1),C.$a()},j:function(e){e>>>=0,M?postMessage({cmd:"cleanupThread",thread:e}):C.Ya(C.La[e])},H:w,h:be,S:oe,D:p,F:k,T:$,Q:Me,J:Ke,P:Rt,n:It,E:Bt,B:kt,R:Wt,C:Nt,p:()=>1,z:function(e,r){e>>>=0,e==r>>>0?setTimeout(st):M?postMessage({targetThread:e,cmd:"checkMailbox"}):(e=C.La[e])&&e.postMessage({cmd:"checkMailbox"})},I:function(e,r,n,l,b){r>>>=0,n>>>=0,pt.length=l,b=b>>>0>>>3;for(var y=0;y<l;y++)pt[y]=g()[b+y>>>0];return e=r?Ge[r]:zr[e],C.eb=n,n=e(...pt),C.eb=0,n},K:dt,o:function(e){D&&C.La[e>>>0].ref()},s:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getUTCSeconds(),f()[n+4>>>2>>>0]=e.getUTCMinutes(),f()[n+8>>>2>>>0]=e.getUTCHours(),f()[n+12>>>2>>>0]=e.getUTCDate(),f()[n+16>>>2>>>0]=e.getUTCMonth(),f()[n+20>>>2>>>0]=e.getUTCFullYear()-1900,f()[n+24>>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,f()[n+28>>>2>>>0]=e},t:function(e,r,n){e=r+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*r:NaN,n>>>=0,e=new Date(1e3*e),f()[n>>>2>>>0]=e.getSeconds(),f()[n+4>>>2>>>0]=e.getMinutes(),f()[n+8>>>2>>>0]=e.getHours(),f()[n+12>>>2>>>0]=e.getDate(),f()[n+16>>>2>>>0]=e.getMonth(),f()[n+20>>>2>>>0]=e.getFullYear()-1900,f()[n+24>>>2>>>0]=e.getDay(),r=($e(e.getFullYear())?Ht:Gt)[e.getMonth()]+e.getDate()-1|0,f()[n+28>>>2>>>0]=r,f()[n+36>>>2>>>0]=-(60*e.getTimezoneOffset()),r=new Date(e.getFullYear(),6,1).getTimezoneOffset();var l=new Date(e.getFullYear(),0,1).getTimezoneOffset();e=(r!=l&&e.getTimezoneOffset()==Math.min(l,r))|0,f()[n+32>>>2>>>0]=e},u:function(e){e>>>=0;var r=new Date(f()[e+20>>>2>>>0]+1900,f()[e+16>>>2>>>0],f()[e+12>>>2>>>0],f()[e+8>>>2>>>0],f()[e+4>>>2>>>0],f()[e>>>2>>>0],0),n=f()[e+32>>>2>>>0],l=r.getTimezoneOffset(),b=new Date(r.getFullYear(),6,1).getTimezoneOffset(),y=new Date(r.getFullYear(),0,1).getTimezoneOffset(),v=Math.min(y,b);return 0>n?f()[e+32>>>2>>>0]=+(b!=y&&v==l):0<n!=(v==l)&&(b=Math.max(y,b),r.setTime(r.getTime()+6e4*((0<n?v:b)-l))),f()[e+24>>>2>>>0]=r.getDay(),n=($e(r.getFullYear())?Ht:Gt)[r.getMonth()]+r.getDate()-1|0,f()[e+28>>>2>>>0]=n,f()[e>>>2>>>0]=r.getSeconds(),f()[e+4>>>2>>>0]=r.getMinutes(),f()[e+8>>>2>>>0]=r.getHours(),f()[e+12>>>2>>>0]=r.getDate(),f()[e+16>>>2>>>0]=r.getMonth(),f()[e+20>>>2>>>0]=r.getYear(),e=r.getTime(),e=isNaN(e)?-1:e/1e3,ar((Ae=e,1<=+Math.abs(Ae)?0<Ae?+Math.floor(Ae/4294967296)>>>0:~~+Math.ceil((Ae-+(~~Ae>>>0))/4294967296)>>>0:0)),e>>>0},q:$t,r:zt,y:function(e,r,n,l){e>>>=0,r>>>=0,n>>>=0,l>>>=0;var b=new Date().getFullYear(),y=new Date(b,0,1),v=new Date(b,6,1);b=y.getTimezoneOffset();var q=v.getTimezoneOffset(),Ce=Math.max(b,q);O()[e>>>2>>>0]=60*Ce,f()[r>>>2>>>0]=+(b!=q),e=fe=>fe.toLocaleTimeString(void 0,{hour12:!1,timeZoneName:"short"}).split(" ")[1],y=e(y),v=e(v),q<b?(Re(y,n,17),Re(v,l,17)):(Re(y,l,17),Re(v,n,17))},c:()=>{te("")},O:function(e,r,n){e>>>=0,r>>>=0,n>>>=0,mt.length=0;for(var l;l=h()[r++>>>0];){var b=l!=105;b&=l!=112,n+=b&&n%8?4:0,mt.push(l==112?O()[n>>>2>>>0]:l==105?f()[n>>>2>>>0]:g()[n>>>3>>>0]),n+=b?8:4}return Ge[e](...mt)},k:()=>{},i:()=>Date.now(),U:()=>{throw Fe+=1,"unwind"},A:function(){return 4294901760},e:()=>performance.timeOrigin+performance.now(),f:()=>D?(yr(),et(hr)).cpus().length:navigator.hardwareConcurrency,x:function(e){e>>>=0;var r=h().length;if(e<=r||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var l=r*(1+.2/n);l=Math.min(l,e+100663296);var b=Math;l=Math.max(e,l);e:{b=(b.min.call(b,4294901760,l+(65536-l%65536)%65536)-Q.buffer.byteLength+65535)/65536;try{Q.grow(b),ee();var y=1;break e}catch{}y=void 0}if(y)return!0}return!1},M:jt,N:qt,G:Ve,g:Vt,m:Jt,v:Xt,l:Qt,a:Q||s.wasmMemory,w:er,d:function(e,r,n,l){return er(e>>>0,r>>>0,n>>>0,l>>>0)}},F=function(){function e(n,l){return F=n.exports,F=jr(),C.ab.push(F.ya),Xe=F.za,Ue.unshift(F.V),we=l,Be(),F}var r={a:Yr};if(Te++,s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(n){ne(`Module.instantiateWasm callback failed with error: ${n}`),U(n)}return rt(r,function(n){e(n.instance,n.module)}).catch(U),{}}();s._OrtInit=(e,r)=>(s._OrtInit=F.W)(e,r),s._OrtGetLastError=(e,r)=>(s._OrtGetLastError=F.X)(e,r),s._OrtCreateSessionOptions=(e,r,n,l,b,y,v,q,Ce,fe)=>(s._OrtCreateSessionOptions=F.Y)(e,r,n,l,b,y,v,q,Ce,fe),s._OrtAppendExecutionProvider=(e,r)=>(s._OrtAppendExecutionProvider=F.Z)(e,r),s._OrtAddFreeDimensionOverride=(e,r,n)=>(s._OrtAddFreeDimensionOverride=F._)(e,r,n),s._OrtAddSessionConfigEntry=(e,r,n)=>(s._OrtAddSessionConfigEntry=F.$)(e,r,n),s._OrtReleaseSessionOptions=e=>(s._OrtReleaseSessionOptions=F.aa)(e),s._OrtCreateSession=(e,r,n)=>(s._OrtCreateSession=F.ba)(e,r,n),s._OrtReleaseSession=e=>(s._OrtReleaseSession=F.ca)(e),s._OrtGetInputOutputCount=(e,r,n)=>(s._OrtGetInputOutputCount=F.da)(e,r,n),s._OrtGetInputName=(e,r)=>(s._OrtGetInputName=F.ea)(e,r),s._OrtGetOutputName=(e,r)=>(s._OrtGetOutputName=F.fa)(e,r),s._OrtFree=e=>(s._OrtFree=F.ga)(e),s._OrtCreateTensor=(e,r,n,l,b,y)=>(s._OrtCreateTensor=F.ha)(e,r,n,l,b,y),s._OrtGetTensorData=(e,r,n,l,b)=>(s._OrtGetTensorData=F.ia)(e,r,n,l,b),s._OrtReleaseTensor=e=>(s._OrtReleaseTensor=F.ja)(e),s._OrtCreateRunOptions=(e,r,n,l)=>(s._OrtCreateRunOptions=F.ka)(e,r,n,l),s._OrtAddRunConfigEntry=(e,r,n)=>(s._OrtAddRunConfigEntry=F.la)(e,r,n),s._OrtReleaseRunOptions=e=>(s._OrtReleaseRunOptions=F.ma)(e),s._OrtCreateBinding=e=>(s._OrtCreateBinding=F.na)(e),s._OrtBindInput=(e,r,n)=>(s._OrtBindInput=F.oa)(e,r,n),s._OrtBindOutput=(e,r,n,l)=>(s._OrtBindOutput=F.pa)(e,r,n,l),s._OrtClearBoundOutputs=e=>(s._OrtClearBoundOutputs=F.qa)(e),s._OrtReleaseBinding=e=>(s._OrtReleaseBinding=F.ra)(e),s._OrtRunWithBinding=(e,r,n,l,b)=>(s._OrtRunWithBinding=F.sa)(e,r,n,l,b),s._OrtRun=(e,r,n,l,b,y,v,q)=>(s._OrtRun=F.ta)(e,r,n,l,b,y,v,q),s._OrtEndProfiling=e=>(s._OrtEndProfiling=F.ua)(e);var ut=s._pthread_self=()=>(ut=s._pthread_self=F.va)();s._malloc=e=>(s._malloc=F.wa)(e),s._free=e=>(s._free=F.xa)(e),s.__emscripten_tls_init=()=>(s.__emscripten_tls_init=F.ya)();var tr=s.__emscripten_thread_init=(e,r,n,l,b,y)=>(tr=s.__emscripten_thread_init=F.Aa)(e,r,n,l,b,y);s.__emscripten_thread_crashed=()=>(s.__emscripten_thread_crashed=F.Ba)();var rr=(e,r,n,l,b)=>(rr=F.Ca)(e,r,n,l,b),yt=e=>(yt=F.Da)(e),bt=s.__emscripten_thread_exit=e=>(bt=s.__emscripten_thread_exit=F.Ea)(e),nr=()=>(nr=F.Fa)(),ar=e=>(ar=F.Ga)(e),or=(e,r)=>(or=F.Ha)(e,r),ft=e=>(ft=F.Ia)(e),wt=e=>(wt=F.Ja)(e),Ot=()=>(Ot=F.Ka)();function jr(){var e=F;e=Object.assign({},e);var r=l=>()=>l()>>>0,n=l=>b=>l(b)>>>0;return e.va=r(e.va),e.wa=n(e.wa),e.emscripten_main_runtime_thread_id=r(e.emscripten_main_runtime_thread_id),e.Ja=n(e.Ja),e.Ka=r(e.Ka),e}s.wasmMemory=Q,s.stackSave=()=>Ot(),s.stackRestore=e=>ft(e),s.stackAlloc=e=>wt(e),s.keepRuntimeAlive=()=>0<Fe,s.UTF8ToString=j,s.stringToUTF8=Re,s.lengthBytesUTF8=ie,s.ExitStatus=ke,s.PThread=C;var lt;ge=function e(){lt||ir(),lt||(ge=e)};function ir(){if(!(0<Te))if(M)T(s),M||Ne(Ue),startWorker(s);else{if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Oe.unshift(s.preRun.shift());Ne(Oe),0<Te||lt||(lt=!0,s.calledRun=!0,me||(M||Ne(Ue),T(s),M||Ne(ve)))}}return ir(),H}})();typeof wr=="object"&&typeof Ft=="object"?Ft.exports=br:typeof define=="function"&&define.amd&&define([],()=>br)});var vr=Ze((bn,tn)=>{tn.exports=\'"use strict";var Module={},ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads"),parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",e=>onmessage({data:e}));var fs=require("fs"),vm=require("vm");Object.assign(global,{self:global,require,Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:e=>vm.runInThisContext(fs.readFileSync(e,"utf8"),{filename:e}),postMessage:e=>parentPort.postMessage(e),performance:global.performance||{now:Date.now}})}var initializedJS=!1;function threadPrintErr(...e){var a=e.join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,a+`\\n`);return}console.error(a)}function threadAlert(...e){var a=e.join(" ");postMessage({cmd:"alert",text:a,threadId:Module._pthread_self()})}var err=threadPrintErr;self.alert=threadAlert,Module.instantiateWasm=(e,a)=>{var r=Module.wasmModule;Module.wasmModule=null;var t=new WebAssembly.Instance(r,e);return a(t)},self.onunhandledrejection=e=>{throw e.reason||e};function handleMessage(e){try{if(e.data.cmd==="load"){let r=[];self.onmessage=t=>r.push(t),self.startWorker=t=>{Module=t,postMessage({cmd:"loaded"});for(let s of r)handleMessage(s);self.onmessage=handleMessage},Module.wasmModule=e.data.wasmModule;for(const t of e.data.handlers)Module[t]=(...s)=>{postMessage({cmd:"callHandler",handler:t,args:s})};if(Module.wasmMemory=e.data.wasmMemory,Module.buffer=Module.wasmMemory.buffer,Module.ENVIRONMENT_IS_PTHREAD=!0,typeof e.data.urlOrBlob=="string")importScripts(e.data.urlOrBlob);else{var a=URL.createObjectURL(e.data.urlOrBlob);importScripts(a),URL.revokeObjectURL(a)}ortWasmThreaded(Module)}else if(e.data.cmd==="run"){Module.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),Module.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Module.establishStackSpace(),Module.PThread.receiveObjectTransfer(e.data),Module.PThread.threadInitTLS(),initializedJS||(initializedJS=!0);try{Module.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(r){if(r!="unwind")throw r}}else e.data.cmd==="cancel"?Module._pthread_self()&&Module.__emscripten_thread_exit(-1):e.data.target==="setimmediate"||(e.data.cmd==="checkMailbox"?initializedJS&&Module.checkMailbox():e.data.cmd&&(err(`worker.js received unknown command ${e.data.cmd}`),err(e.data)))}catch(r){throw Module.__emscripten_thread_crashed?.(),r}}self.onmessage=handleMessage;\\n\'});var Er;Er=pr();var rn=Or(),Dt,Pt=!1,ct=!1,_r=!1,nn=u=>{if(u===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+u+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+u+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},an=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},on=(u,d)=>u?"ort-training-wasm-simd.wasm":d?"ort-wasm-threaded.wasm":"ort-wasm.wasm",Sr=async u=>{if(Pt)return Promise.resolve();if(ct)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(_r)throw new Error("previous call to \'initializeWebAssembly()\' failed.");ct=!0;let d=u.initTimeout,a=u.numThreads,h=u.simd,f=nn(a),O=h&&an(),g=u.wasmPaths,s=typeof g=="string"?g:void 0,T=on(O,f),U=typeof g=="object"?g[T]:void 0,H=!1,A=[];if(d>0&&A.push(new Promise(I=>{setTimeout(()=>{H=!0,I()},d)})),A.push(new Promise((I,J)=>{let R=f?rn:Er,B={locateFile:(D,M)=>f&&D.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([vr()],{type:"text/javascript"})):D.endsWith(".wasm")?U||(s??M)+T:M+D};if(f)if(B.numThreads=a,typeof Blob>"u")B.mainScriptUrlOrBlob=(void 0)(__dirname,"ort-wasm-threaded.js");else{let D=`var ortWasmThreaded=${R.toString()};`;B.mainScriptUrlOrBlob=new Blob([D],{type:"text/javascript"})}R(B).then(D=>{ct=!1,Pt=!0,Dt=D,I()},D=>{ct=!1,_r=!0,J(D)})})),await Promise.race(A),H)throw new Error(`WebAssembly backend initializing failed due to timeout: ${d}ms`)},K=()=>{if(Pt&&Dt)return Dt;throw new Error("WebAssembly is not initialized yet.")};var z=(u,d)=>{let a=K(),h=a.lengthBytesUTF8(u)+1,f=a._malloc(h);return a.stringToUTF8(u,f,h),d.push(f),f},tt=(u,d,a,h)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([f,O])=>{let g=d?d+f:f;if(typeof O=="object")tt(O,g+".",a,h);else if(typeof O=="string"||typeof O=="number")h(g,O.toString());else if(typeof O=="boolean")h(g,O?"1":"0");else throw new Error(`Can\'t handle extra config type: ${typeof O}`)})},Y=u=>{let d=K(),a=d.stackSave();try{let h=d.stackAlloc(8);d._OrtGetLastError(h,h+4);let f=d.HEAP32[h/4],O=d.HEAPU32[h/4+1],g=O?d.UTF8ToString(O):"";throw new Error(`${u} ERROR_CODE: ${f}, ERROR_MESSAGE: ${g}`)}finally{d.stackRestore(a)}};var Tr=u=>{let d=K(),a=0,h=[],f=u||{};try{if(u?.logSeverityLevel===void 0)f.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if(u?.logVerbosityLevel===void 0)f.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);u?.terminate===void 0&&(f.terminate=!1);let O=0;return u?.tag!==void 0&&(O=z(u.tag,h)),a=d._OrtCreateRunOptions(f.logSeverityLevel,f.logVerbosityLevel,!!f.terminate,O),a===0&&Y("Can\'t create run options."),u?.extra!==void 0&&tt(u.extra,"",new WeakSet,(g,s)=>{let T=z(g,h),U=z(s,h);d._OrtAddRunConfigEntry(a,T,U)!==0&&Y(`Can\'t set a run config entry: ${g} - ${s}.`)}),[a,h]}catch(O){throw a!==0&&d._OrtReleaseRunOptions(a),h.forEach(g=>d._free(g)),O}};var sn=u=>{switch(u){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${u}`)}},un=u=>{switch(u){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${u}`)}},fn=u=>{u.extra||(u.extra={}),u.extra.session||(u.extra.session={});let d=u.extra.session;d.use_ort_model_bytes_directly||(d.use_ort_model_bytes_directly="1"),u.executionProviders&&u.executionProviders.some(a=>(typeof a=="string"?a:a.name)==="webgpu")&&(u.enableMemPattern=!1)},ln=(u,d,a)=>{for(let h of d){let f=typeof h=="string"?h:h.name;switch(f){case"webnn":if(f="WEBNN",typeof h!="string"){let g=h;if(g?.deviceType){let s=z("deviceType",a),T=z(g.deviceType,a);K()._OrtAddSessionConfigEntry(u,s,T)!==0&&Y(`Can\'t set a session config entry: \'deviceType\' - ${g.deviceType}.`)}if(g?.numThreads){let s=g.numThreads;(typeof s!="number"||!Number.isInteger(s)||s<0)&&(s=0);let T=z("numThreads",a),U=z(s.toString(),a);K()._OrtAddSessionConfigEntry(u,T,U)!==0&&Y(`Can\'t set a session config entry: \'numThreads\' - ${g.numThreads}.`)}if(g?.powerPreference){let s=z("powerPreference",a),T=z(g.powerPreference,a);K()._OrtAddSessionConfigEntry(u,s,T)!==0&&Y(`Can\'t set a session config entry: \'powerPreference\' - ${g.powerPreference}.`)}}break;case"webgpu":if(f="JS",typeof h!="string"){let g=h;if(g?.preferredLayout){if(g.preferredLayout!=="NCHW"&&g.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either \'NCHW\' or \'NHWC\': ${g.preferredLayout}`);let s=z("preferredLayout",a),T=z(g.preferredLayout,a);K()._OrtAddSessionConfigEntry(u,s,T)!==0&&Y(`Can\'t set a session config entry: \'preferredLayout\' - ${g.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${f}`)}let O=z(f,a);K()._OrtAppendExecutionProvider(u,O)!==0&&Y(`Can\'t append execution provider: ${f}.`)}},Ar=u=>{let d=K(),a=0,h=[],f=u||{};fn(f);try{let O=sn(f.graphOptimizationLevel??"all"),g=un(f.executionMode??"sequential"),s=typeof f.logId=="string"?z(f.logId,h):0,T=f.logSeverityLevel??2;if(!Number.isInteger(T)||T<0||T>4)throw new Error(`log serverity level is not valid: ${T}`);let U=f.logVerbosityLevel??0;if(!Number.isInteger(U)||U<0||U>4)throw new Error(`log verbosity level is not valid: ${U}`);let H=typeof f.optimizedModelFilePath=="string"?z(f.optimizedModelFilePath,h):0;if(a=d._OrtCreateSessionOptions(O,!!f.enableCpuMemArena,!!f.enableMemPattern,g,!!f.enableProfiling,0,s,T,U,H),a===0&&Y("Can\'t create session options."),f.executionProviders&&ln(a,f.executionProviders,h),f.enableGraphCapture!==void 0){if(typeof f.enableGraphCapture!="boolean")throw new Error(`enableGraphCapture must be a boolean value: ${f.enableGraphCapture}`);let A=z("enableGraphCapture",h),I=z(f.enableGraphCapture.toString(),h);d._OrtAddSessionConfigEntry(a,A,I)!==0&&Y(`Can\'t set a session config entry: \'enableGraphCapture\' - ${f.enableGraphCapture}.`)}if(f.freeDimensionOverrides)for(let[A,I]of Object.entries(f.freeDimensionOverrides)){if(typeof A!="string")throw new Error(`free dimension override name must be a string: ${A}`);if(typeof I!="number"||!Number.isInteger(I)||I<0)throw new Error(`free dimension override value must be a non-negative integer: ${I}`);let J=z(A,h);d._OrtAddFreeDimensionOverride(a,J,I)!==0&&Y(`Can\'t set a free dimension override: ${A} - ${I}.`)}return f.extra!==void 0&&tt(f.extra,"",new WeakSet,(A,I)=>{let J=z(A,h),R=z(I,h);d._OrtAddSessionConfigEntry(a,J,R)!==0&&Y(`Can\'t set a session config entry: ${A} - ${I}.`)}),[a,h]}catch(O){throw a!==0&&d._OrtReleaseSessionOptions(a),h.forEach(g=>d._free(g)),O}};var xt=u=>{switch(u){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${u}`)}},Mr=u=>{switch(u){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${u}`)}},Ut=u=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][u],Cr=u=>{switch(u){case"float16":return typeof Float16Array<"u"&&Float16Array.from?Float16Array:Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${u}`)}},Fr=u=>{switch(u){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${u}`)}},Dr=u=>u==="float32"||u==="float16"||u==="int32"||u==="int64"||u==="uint32"||u==="uint8"||u==="bool",Pr=u=>{switch(u){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${u}`)}};var xr=async u=>{if(typeof u=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(void 0)(u))}catch(d){if(d.code==="ERR_FS_FILE_TOO_LARGE"){let a=(void 0)(u),h=[];for await(let f of a)h.push(f);return new Uint8Array(Buffer.concat(h))}throw d}else{let d=await fetch(u);if(!d.ok)throw new Error(`failed to load external data file: ${u}`);let a=d.headers.get("Content-Length"),h=a?parseInt(a,10):0;if(h<1073741824)return new Uint8Array(await d.arrayBuffer());{if(!d.body)throw new Error(`failed to load external data file: ${u}, no response body.`);let f=d.body.getReader(),O;try{O=new ArrayBuffer(h)}catch(s){if(s instanceof RangeError){let T=Math.ceil(h/65536);O=new WebAssembly.Memory({initial:T,maximum:T}).buffer}else throw s}let g=0;for(;;){let{done:s,value:T}=await f.read();if(s)break;let U=T.byteLength;new Uint8Array(O,g,U).set(T),g+=U}return new Uint8Array(O,0,h)}}else return u instanceof Blob?new Uint8Array(await u.arrayBuffer()):u instanceof Uint8Array?u:new Uint8Array(u)};var cn=(u,d)=>{K()._OrtInit(u,d)!==0&&Y("Can\'t initialize onnxruntime.")},Lr=async u=>{cn(u.wasm.numThreads,Fr(u.logLevel))},Rr=async(u,d)=>{},ze=new Map,dn=u=>{let d=K(),a=d.stackSave();try{let h=d.stackAlloc(8);return d._OrtGetInputOutputCount(u,h,h+4)!==0&&Y("Can\'t get session input/output count."),[d.HEAP32[h/4],d.HEAP32[h/4+1]]}finally{d.stackRestore(a)}},Lt=u=>{let d=K(),a=d._malloc(u.byteLength);if(a===0)throw new Error(`Can\'t create a session. failed to allocate a buffer of size ${u.byteLength}.`);return d.HEAPU8.set(u,a),[a,u.byteLength]},Ir=async(u,d)=>{let a,h,f=K();Array.isArray(u)?[a,h]=u:u.buffer===f.HEAPU8.buffer?[a,h]=[u.byteOffset,u.byteLength]:[a,h]=Lt(u);let O=0,g=0,s=0,T=[],U=[],H=[];try{if([g,T]=Ar(d),d?.externalData&&f.mountExternalData){let L=[];for(let W of d.externalData){let de=typeof W=="string"?W:W.path;L.push(xr(typeof W=="string"?W:W.data).then(pe=>{f.mountExternalData(de,pe)}))}await Promise.all(L)}O=await f._OrtCreateSession(a,h,g),O===0&&Y("Can\'t create a session.");let[A,I]=dn(O),J=!!d?.enableGraphCapture,R=[],B=[],D=[];for(let L=0;L<A;L++){let W=f._OrtGetInputName(O,L);W===0&&Y("Can\'t get an input name."),U.push(W),R.push(f.UTF8ToString(W))}for(let L=0;L<I;L++){let W=f._OrtGetOutputName(O,L);W===0&&Y("Can\'t get an output name."),H.push(W);let de=f.UTF8ToString(W);B.push(de)}let M=null;return ze.set(O,[O,U,H,M,J,!1]),[O,R,B]}catch(A){throw U.forEach(I=>f._OrtFree(I)),H.forEach(I=>f._OrtFree(I)),s!==0&&f._OrtReleaseBinding(s),O!==0&&f._OrtReleaseSession(O),A}finally{f._free(a),g!==0&&f._OrtReleaseSessionOptions(g),T.forEach(A=>f._free(A)),f.unmountExternalData?.()}},Br=u=>{let d=K(),a=ze.get(u);if(!a)throw new Error(`cannot release session. invalid session id: ${u}`);let[h,f,O,g,s]=a;g&&(s&&d._OrtClearBoundOutputs(g.handle),d._OrtReleaseBinding(g.handle)),d.jsepOnReleaseSession?.(u),f.forEach(T=>d._OrtFree(T)),O.forEach(T=>d._OrtFree(T)),d._OrtReleaseSession(h),ze.delete(u)},Ur=(u,d,a,h,f,O=!1)=>{if(!u){d.push(0);return}let g=K(),s=u[0],T=u[1],U=u[3],H,A;if(s==="string"&&U==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(O&&U!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${f} when enableGraphCapture is true.`);if(U==="gpu-buffer"){let R=u[2].gpuBuffer,B=Ut(xt(s));A=T.reduce((M,L)=>M*L,1)*B;let D=g.jsepRegisterBuffer;if(!D)throw new Error(\'Tensor location "gpu-buffer" is not supported without using WebGPU.\');H=D(h,f,R,A)}else{let R=u[2];if(Array.isArray(R)){A=4*R.length,H=g._malloc(A),a.push(H);let B=H/4;for(let D=0;D<R.length;D++){if(typeof R[D]!="string")throw new TypeError(`tensor data at index ${D} is not a string`);g.HEAPU32[B++]=z(R[D],a)}}else A=R.byteLength,H=g._malloc(A),a.push(H),g.HEAPU8.set(new Uint8Array(R.buffer,R.byteOffset,A),H)}let I=g.stackSave(),J=g.stackAlloc(4*T.length);try{let R=J/4;T.forEach(D=>g.HEAP32[R++]=D);let B=g._OrtCreateTensor(xt(s),H,A,J,T.length,Pr(U));B===0&&Y(`Can\'t create tensor for input/output. session=${h}, index=${f}.`),d.push(B)}finally{g.stackRestore(I)}},kr=async(u,d,a,h,f,O)=>{let g=K(),s=ze.get(u);if(!s)throw new Error(`cannot run inference. invalid session id: ${u}`);let T=s[0],U=s[1],H=s[2],A=s[3],I=s[4],J=s[5],R=d.length,B=h.length,D=0,M=[],L=[],W=[],de=[],pe=g.stackSave(),Z=g.stackAlloc(R*4),E=g.stackAlloc(R*4),X=g.stackAlloc(B*4),Pe=g.stackAlloc(B*4);try{[D,M]=Tr(O);for(let x=0;x<R;x++)Ur(a[x],L,de,u,d[x],I);for(let x=0;x<B;x++)Ur(f[x],W,de,u,R+h[x],I);let le=Z/4,Ie=E/4,ne=X/4,Q=Pe/4;for(let x=0;x<R;x++)g.HEAPU32[le++]=L[x],g.HEAPU32[Ie++]=U[d[x]];for(let x=0;x<B;x++)g.HEAPU32[ne++]=W[x],g.HEAPU32[Q++]=H[h[x]];g.jsepOnRunStart?.(T);let we;we=await g._OrtRun(T,E,Z,R,Pe,B,X,D),we!==0&&Y("failed to call OrtRun().");let me=[];for(let x=0;x<B;x++){let se=g.HEAPU32[X/4+x];if(se===W[x]){me.push(f[x]);continue}let xe=g.stackSave(),ce=g.stackAlloc(4*4),ye=!1,ae,ee=0;try{g._OrtGetTensorData(se,ce,ce+4,ce+8,ce+12)!==0&&Y(`Can\'t access output tensor data on index ${x}.`);let Oe=ce/4,Ue=g.HEAPU32[Oe++];ee=g.HEAPU32[Oe++];let ve=g.HEAPU32[Oe++],Te=g.HEAPU32[Oe++],_e=[];for(let te=0;te<Te;te++)_e.push(g.HEAPU32[ve/4+te]);g._OrtFree(ve);let ge=_e.reduce((te,re)=>te*re,1);ae=Mr(Ue);let Be=A?.outputPreferredLocations[h[x]];if(ae==="string"){if(Be==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let te=[],re=ee/4;for(let ue=0;ue<ge;ue++){let Ee=g.HEAPU32[re++],Se=ue===ge-1?void 0:g.HEAPU32[re]-Ee;te.push(g.UTF8ToString(Ee,Se))}me.push([ae,_e,te,"cpu"])}else if(Be==="gpu-buffer"&&ge>0){let te=g.jsepGetBuffer;if(!te)throw new Error(\'preferredLocation "gpu-buffer" is not supported without using WebGPU.\');let re=te(ee),ue=Ut(Ue);if(ue===void 0||!Dr(ae))throw new Error(`Unsupported data type: ${ae}`);ye=!0,me.push([ae,_e,{gpuBuffer:re,download:g.jsepCreateDownloader(re,ge*ue,ae),dispose:()=>{g._OrtReleaseTensor(se)}},"gpu-buffer"])}else{let te=Cr(ae),re=new te(ge);new Uint8Array(re.buffer,re.byteOffset,re.byteLength).set(g.HEAPU8.subarray(ee,ee+re.byteLength)),me.push([ae,_e,re,"cpu"])}}finally{g.stackRestore(xe),ae==="string"&&ee&&g._free(ee),ye||g._OrtReleaseTensor(se)}}return A&&!I&&(g._OrtClearBoundOutputs(A.handle),ze.set(u,[T,U,H,A,I,!1])),me}finally{g.stackRestore(pe),L.forEach(le=>g._OrtReleaseTensor(le)),W.forEach(le=>g._OrtReleaseTensor(le)),de.forEach(le=>g._free(le)),D!==0&&g._OrtReleaseRunOptions(D),M.forEach(le=>g._free(le))}},Wr=u=>{let d=K(),a=ze.get(u);if(!a)throw new Error("invalid session id");let h=a[0],f=d._OrtEndProfiling(h);f===0&&Y("Can\'t get an profile file name."),d._OrtFree(f)},Nr=u=>{let d=[];for(let a of u){let h=a[2];!Array.isArray(h)&&"buffer"in h&&d.push(h.buffer)}return d};self.onmessage=u=>{let{type:d,in:a}=u.data;try{switch(d){case"init-wasm":Sr(a.wasm).then(()=>{Lr(a).then(()=>{postMessage({type:d})},h=>{postMessage({type:d,err:h})})},h=>{postMessage({type:d,err:h})});break;case"init-ep":{let{epName:h,env:f}=a;Rr(f,h).then(()=>{postMessage({type:d})},O=>{postMessage({type:d,err:O})});break}case"copy-from":{let{buffer:h}=a,f=Lt(h);postMessage({type:d,out:f});break}case"create":{let{model:h,options:f}=a;Ir(h,f).then(O=>{postMessage({type:d,out:O})},O=>{postMessage({type:d,err:O})});break}case"release":Br(a),postMessage({type:d});break;case"run":{let{sessionId:h,inputIndices:f,inputs:O,outputIndices:g,options:s}=a;kr(h,f,O,g,new Array(g.length).fill(null),s).then(T=>{T.some(U=>U[3]!=="cpu")?postMessage({type:d,err:"Proxy does not support non-cpu tensor location."}):postMessage({type:d,out:T},Nr([...O,...T]))},T=>{postMessage({type:d,err:T})});break}case"end-profiling":Wr(a),postMessage({type:d});break;default:}}catch(h){postMessage({type:d,err:h})}};})();\n'})),ir=B((()=>{ue(),ar(),Zt(),ut=()=>!!f.wasm.proxy&&typeof document<"u",ft=!1,ct=!1,dt=!1,ht=new Map,gt=(e,t)=>{let r=ht.get(e);r?r.push(t):ht.set(e,[t])},mt=()=>{if(ft||!ct||dt||!lt)throw new Error("worker not ready")},yt=e=>{switch(e.data.type){case"init-wasm":ft=!1,e.data.err?(dt=!0,pt[1](e.data.err)):(ct=!0,pt[0]());break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let t=ht.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out);break}}},wt=typeof document<"u"?document?.currentScript?.src:void 0,bt=async()=>{if(!ct){if(ft)throw new Error("multiple calls to 'initWasm()' detected.");if(dt)throw new Error("previous call to 'initWasm()' failed.");if(ft=!0,ut())return void 0===f.wasm.wasmPaths&&wt&&0!==wt.indexOf("blob:")&&(f.wasm.wasmPaths=wt.substr(0,+wt.lastIndexOf("/")+1)),new Promise(((e,t)=>{lt?.terminate();let r=URL.createObjectURL(new Blob([or()],{type:"text/javascript"}));(lt=new Worker(r,{name:"ort-wasm-proxy-worker"})).onerror=e=>t(e),lt.onmessage=yt,URL.revokeObjectURL(r),pt=[e,t];let n={type:"init-wasm",in:f};lt.postMessage(n)}));try{await xe(f.wasm),await Qe(f),ct=!0}catch(e){throw dt=!0,e}finally{ft=!1}}},vt=async e=>{if(ut())return mt(),new Promise(((t,r)=>{gt("init-ep",[t,r]);let n={type:"init-ep",in:{epName:e,env:f}};lt.postMessage(n)}));await Ze()},Ot=async e=>ut()?(mt(),new Promise(((t,r)=>{gt("copy-from",[t,r]);let n={type:"copy-from",in:{buffer:e}};lt.postMessage(n,[e.buffer])}))):tt(e),_t=async(e,t)=>{if(ut()){if(t?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return mt(),new Promise(((r,n)=>{gt("create",[r,n]);let a={type:"create",in:{model:e,options:{...t}}},o=[];e instanceof Uint8Array&&o.push(e.buffer),lt.postMessage(a,o)}))}return rt(e,t)},Tt=async e=>{if(ut())return mt(),new Promise(((t,r)=>{gt("release",[t,r]);let n={type:"release",in:e};lt.postMessage(n)}));nt(e)},Et=async(e,t,r,n,a,o)=>{if(ut()){if(r.some((e=>"cpu"!==e[3])))throw new Error("input tensor on GPU is not supported for proxy.");if(a.some((e=>e)))throw new Error("pre-allocated output tensor is not supported for proxy.");return mt(),new Promise(((a,i)=>{gt("run",[a,i]);let s=r,u={type:"run",in:{sessionId:e,inputIndices:t,inputs:s,outputIndices:n,options:o}};lt.postMessage(u,st(s))}))}return ot(e,t,r,n,a,o)},At=async e=>{if(ut())return mt(),new Promise(((t,r)=>{gt("end-profiling",[t,r]);let n={type:"end-profiling",in:e};lt.postMessage(n)}));it(e)}})),sr=B((()=>{ue(),ir(),rr(),nr(),St=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${e.location} for ${t()}`)}},Mt=e=>{switch(e[3]){case"cpu":return new A(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!Ve(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:r,download:n,dispose:a}=e[2];return A.fromGpuBuffer(r,{dataType:t,dims:e[1],download:n,dispose:a})}default:throw new Error(`invalid data location: ${e[3]}`)}},Ct=class{async fetchModelAndCopyToWasmMemory(e){return Ot(await qe(e))}async loadModel(e,t){let r;C(),r="string"==typeof e?typeof process<"u"&&process.versions&&process.versions.node?await qe(e):await this.fetchModelAndCopyToWasmMemory(e):e,[this.sessionId,this.inputNames,this.outputNames]=await _t(r,t),R()}async dispose(){return Tt(this.sessionId)}async run(e,t,r){C();let n=[],a=[];Object.entries(e).forEach((e=>{let t=e[0],r=e[1],o=this.inputNames.indexOf(t);if(-1===o)throw new Error(`invalid input '${t}'`);n.push(r),a.push(o)}));let o=[],i=[];Object.entries(t).forEach((e=>{let t=e[0],r=e[1],n=this.outputNames.indexOf(t);if(-1===n)throw new Error(`invalid output '${t}'`);o.push(r),i.push(n)}));let s=n.map(((e,t)=>St(e,(()=>`input "${this.inputNames[a[t]]}"`)))),u=o.map(((e,t)=>e?St(e,(()=>`output "${this.outputNames[i[t]]}"`)):null)),l=await Et(this.sessionId,a,s,i,u,r),f={};for(let e=0;e<l.length;e++)f[this.outputNames[i[e]]]=o[e]??Mt(l[e]);return R(),f}startProfiling(){}endProfiling(){At(this.sessionId)}}})),ur=B((()=>{ue(),ir(),sr(),Rt=()=>{if(("number"!=typeof f.wasm.initTimeout||f.wasm.initTimeout<0)&&(f.wasm.initTimeout=0),"boolean"!=typeof f.wasm.simd&&(f.wasm.simd=!0),"boolean"!=typeof f.wasm.proxy&&(f.wasm.proxy=!1),"boolean"!=typeof f.wasm.trace&&(f.wasm.trace=!1),"number"!=typeof f.wasm.numThreads||!Number.isInteger(f.wasm.numThreads)||f.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(f.wasm.numThreads=1);let e=typeof navigator>"u"?(void 0)().length:navigator.hardwareConcurrency;f.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},Pt=class{async init(e){Rt(),await bt(),await vt(e)}async createInferenceSessionHandler(e,t){let r=new Ct;return await r.loadModel(e,t),Promise.resolve(r)}}})),lr=B((()=>{er(),tr(),rr(),ar(),Zt(),Kt(),xt="Built without training API's enabled. Use the onnxruntime-web/training import for training functionality, and make sure that all the correct artifacts are built & moved to the correct folder if using a custom build. Check https://onnxruntime.ai/docs/build/web.html for more information.",Ut=(e,t,r=!0)=>{(r&&0!==e||!r&&0===e)&&De(t)},Ft=e=>{let t=Ue(),[r,n]=e,a=0;try{if(!t._OrtTrainingLoadCheckpoint)throw new Error(xt);return a=t._OrtTrainingLoadCheckpoint(r,n),Ut(a,"Error occurred when trying to create a CheckpointState",!1),a}catch(e){throw t._OrtTrainingReleaseCheckpoint&&0!==a&&t._OrtTrainingReleaseCheckpoint(a),e}finally{t._OrtFree(e[0])}},It=(e,t)=>{let r=Ue(),n=r.stackSave();try{let n=r.stackAlloc(8);if(r._OrtTrainingGetModelInputOutputCount){let a=r._OrtTrainingGetModelInputOutputCount(e,n,n+4,t);return Ut(a,"Can't get session input/output count."),[r.HEAP32[n/4],r.HEAP32[n/4+1]]}throw new Error(xt)}finally{r.stackRestore(n)}},Dt=(e,t,r,n)=>{let a=[],o=Ue();for(let i=0;i<t;i++){if(!o._OrtTrainingGetModelInputOutputName)throw new Error(xt);{let t=o._OrtTrainingGetModelInputOutputName(e,i,r,n);Ut(t,`Can't get input or output name -- is input: ${r}, index ${i}`,!1),a.push(o.UTF8ToString(t)),o._free(t)}}return a},kt=(e,t)=>{let r=[],n=[],[a,o]=It(e,t);return r=Dt(e,a,!0,t),n=Dt(e,o,!1,t),[r,n]},Lt=(e,t,r,n,a)=>{let o=Ue(),i=0,s=0,u=[];try{if([s,u]=$e(a),!o._OrtTrainingCreateSession)throw new Error(xt);return i=o._OrtTrainingCreateSession(s,e,t[0],t[1],r[0],r[1],n[0],n[1]),Ut(i,"Error occurred when trying to create a TrainingSession",!1),i}catch(e){throw o._OrtTrainingReleaseSession&&0!==i&&o._OrtTrainingReleaseSession(i),e}finally{o._free(t[0]),o._free(r[0]),o._free(n[0]),0!==s&&o._OrtReleaseSessionOptions(s),u.forEach((e=>o._free(e)))}},Bt=(e,t,r,n,a,o)=>{let i=t.length;for(let s=0;s<i;s++)at(r[s],n,a,e,o+t[s]);let s=Ue(),u=s.stackAlloc(4*i),l=u/4;for(let e=0;e<i;e++)s.HEAPU32[l++]=n[e];return u},Nt=(e,t,r,n)=>{let a=Ue(),o=[];for(let i=0;i<t;i++){let t=a.HEAPU32[e/4+i];if(t===r[i]){o.push(n[i]);continue}let s,u=a.stackSave(),l=a.stackAlloc(16),f=0;try{let e=a._OrtGetTensorData(t,l,l+4,l+8,l+12);Ut(e,`Can't access output tensor data on index ${i}.`);let r=l/4,n=a.HEAPU32[r++];f=a.HEAPU32[r++];let u=a.HEAPU32[r++],c=a.HEAPU32[r++],d=[];for(let e=0;e<c;e++)d.push(a.HEAPU32[u/4+e]);a._OrtFree(u);let p=d.reduce(((e,t)=>e*t),1);if(s=We(n),"string"===s){let e=[],t=f/4;for(let r=0;r<p;r++){let n=a.HEAPU32[t++],o=r===p-1?void 0:a.HEAPU32[t]-n;e.push(a.UTF8ToString(n,o))}o.push([s,d,e,"cpu"])}else{let e=new(ze(s))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(a.HEAPU8.subarray(f,f+e.byteLength)),o.push([s,d,e,"cpu"])}}finally{a.stackRestore(u),"string"===s&&f&&a._free(f),a._OrtReleaseTensor(t)}}return o},Ht=async e=>{let t=Ue();if(!t._OrtTrainingLazyResetGrad)throw new Error(xt);{let r=t._OrtTrainingLazyResetGrad(e);Ut(r,"Can't call lazyResetGrad.")}},$t=async(e,t,r,n,a,o)=>{let i=Ue(),s=t.length,u=n.length,l=0,f=[],c=[],d=[],p=[],h=i.stackSave();try{[l,f]=ke(o);let h=Bt(e,t,r,c,p,0),g=Bt(e,n,a,d,p,s);if(!i._OrtTrainingRunTrainStep)throw new Error(xt);{let t=i._OrtTrainingRunTrainStep(e,h,s,g,u,l);Ut(t,"failed to call OrtTrainingRunTrainStep in the WebAssembly layer")}return Nt(g,u,d,a)}finally{i.stackRestore(h),c.forEach((e=>i._OrtReleaseTensor(e))),d.forEach((e=>i._OrtReleaseTensor(e))),p.forEach((e=>i._free(e))),0!==l&&i._OrtReleaseRunOptions(l),f.forEach((e=>i._free(e)))}},Gt=async(e,t)=>{let r=Ue(),n=0,a=[];try{if([n,a]=ke(t),!r._OrtTrainingOptimizerStep)throw new Error(xt);{let t=r._OrtTrainingOptimizerStep(e,n);Ut(t,"Failed to call OrtTrainingOptimizerStep in the WebAssembly layer")}}finally{0!==n&&r._OrtReleaseRunOptions(n),a.forEach((e=>r._free(e)))}},Wt=async(e,t,r,n,a,o)=>{let i=Ue(),s=t.length,u=n.length,l=0,f=[],c=[],d=[],p=[],h=i.stackSave();try{[l,f]=ke(o);let h=Bt(e,t,r,c,p,0),g=Bt(e,n,a,d,p,s);if(!i._OrtTrainingEvalStep)throw new Error(xt);{let t=i._OrtTrainingEvalStep(e,h,s,g,u,l);Ut(t,"failed to call OrtTrainingEvalStep in the WebAssembly layer")}return Nt(g,u,d,a)}finally{i.stackRestore(h),c.forEach((e=>i._OrtReleaseTensor(e))),d.forEach((e=>i._OrtReleaseTensor(e))),p.forEach((e=>i._free(e))),0!==l&&i._OrtReleaseRunOptions(l),f.forEach((e=>i._free(e)))}},jt=(e,t)=>{let r=Ue(),n=r.stackSave();try{let n=r.stackAlloc(4);if(r._OrtTrainingGetParametersSize){let a=r._OrtTrainingGetParametersSize(e,n,t);return Ut(a,"Can't get parameters size"),r.HEAP32[n/4]}throw new Error(xt)}finally{r.stackRestore(n)}},zt=async(e,t)=>{let r=Ue(),n=r.stackSave(),a="float32",o=jt(e,t),i=0,s=4*o,u=r._malloc(s),l=[o],f=r.stackAlloc(4),c=f/4;r.HEAP32[c]=o;try{if(i=r._OrtCreateTensor(Ge(a),u,s,f,l.length,Je("cpu")),Ut(i,`Can't create tensor for getContiguousParameters. session=${e}.`,!1),!r._OrtTrainingCopyParametersToBuffer)throw new Error(xt);{let n=r._OrtTrainingCopyParametersToBuffer(e,i,o,t);Ut(n,"Can't get contiguous parameters.")}let n=new(ze(a))(o),c=[];if(new Uint8Array(n.buffer,n.byteOffset,n.byteLength).set(r.HEAPU8.subarray(u,u+s)),c.push([a,l,n,"cpu"]),1!==c.length)throw new Error(`something unexpected happened in the getContiguousParameters function. Expected output length of\n     one, got ${c.length}`);return c[0]}finally{0!==i&&r._OrtReleaseTensor(i),r._free(u),r._free(f),r.stackRestore(n)}},Yt=async(e,t,r)=>{let n=Ue(),a=n.stackSave(),o=t.length,i=o/4,s=n._malloc(o);n.HEAPU8.set(t,s);let u=n.stackAlloc(4);n.HEAP32[u/4]=i;let l=0;try{if(l=n._OrtCreateTensor(Ge("float32"),s,o,u,1,Je("cpu")),Ut(l,`Can't create tensor for input/output. session=${e}`,!1),!n._OrtTrainingCopyParametersFromBuffer)throw new Error(xt);{let t=n._OrtTrainingCopyParametersFromBuffer(e,l,i,r);Ut(t,"Can't copy buffer to parameters.")}}finally{0!==l&&n._OrtReleaseTensor(l),n.stackRestore(a),n._free(s),n._free(u)}},Vt=(e,t)=>{let r=Ue();r._OrtTrainingReleaseSession&&r._OrtTrainingReleaseSession(t),r._OrtTrainingReleaseCheckpoint&&r._OrtTrainingReleaseCheckpoint(e)}})),fr=B((()=>{sr(),ar(),lr(),Jt=class{constructor(){this.evalInputNames=[],this.evalOutputNames=[]}async uriOrBufferToHeap(e){let t;if("string"==typeof e){let r=await(await fetch(e)).arrayBuffer();t=new Uint8Array(r)}else t=e;return tt(t)}async createTrainingSession(e,t,r,n,a){let o=await this.uriOrBufferToHeap(e),i=await this.uriOrBufferToHeap(t),s=[0,0],u=[0,0];""!==r&&(s=await this.uriOrBufferToHeap(r)),""!==n&&(u=await this.uriOrBufferToHeap(n)),this.checkpointId=Ft(o),this.sessionId=Lt(this.checkpointId,i,s,u,a),[this.inputNames,this.outputNames]=kt(this.sessionId,!1),""!==r&&([this.evalInputNames,this.evalOutputNames]=kt(this.sessionId,!0))}convertMapIntoValuesArrayAndIndicesArray(e,t,r){let n=[],a=[];Object.entries(e).forEach((e=>{let r=e[0],o=e[1],i=t.indexOf(r);if(-1===i)throw new Error(`invalid input '${r}`);n.push(o),a.push(i)}));let o=n.map(r);return[n,a,o]}convertTensorMetadataToReturnType(e,t,r){let n={};for(let a=0;a<e.length;a++)n[this.outputNames[r[a]]]=t[a]??Mt(e[a]);return n}async lazyResetGrad(){await Ht(this.sessionId)}async runTrainStep(e,t,r){let[,n,a]=this.convertMapIntoValuesArrayAndIndicesArray(e,this.inputNames,((e,t)=>St(e,(()=>`input "${this.inputNames[n[t]]}"`)))),[o,i,s]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.outputNames,((e,t)=>e?St(e,(()=>`output "${this.outputNames[i[t]]}"`)):null)),u=await $t(this.sessionId,n,a,i,s,r);return this.convertTensorMetadataToReturnType(u,o,i)}async runOptimizerStep(e){await Gt(this.sessionId,e)}async runEvalStep(e,t,r){let[,n,a]=this.convertMapIntoValuesArrayAndIndicesArray(e,this.evalInputNames,((e,t)=>St(e,(()=>`input "${this.evalInputNames[n[t]]}"`)))),[o,i,s]=this.convertMapIntoValuesArrayAndIndicesArray(t,this.evalOutputNames,((e,t)=>e?St(e,(()=>`output "${this.evalOutputNames[i[t]]}"`)):null)),u=await Wt(this.sessionId,n,a,i,s,r);return this.convertTensorMetadataToReturnType(u,o,i)}async getParametersSize(e){return jt(this.sessionId,e)}async loadParametersBuffer(e,t){await Yt(this.sessionId,e,t)}async getContiguousParameters(e){let t=await zt(this.sessionId,e);return Mt(t)}async dispose(){return Vt(this.checkpointId,this.sessionId)}}})),cr={};H(cr,{wasmBackend:()=>dr});var dr,pr=B((()=>{ur(),fr(),dr=new class extends Pt{async createTrainingSessionHandler(e,t,r,n,a){let o=new Jt;return await o.createTrainingSession(e,t,r,n,a),Promise.resolve(o)}}}));ue(),ue(),ue();{let e=(pr(),$(cr)).wasmBackend;a("cpu",e,10),a("wasm",e,10)}Object.defineProperty(f.versions,"web",{value:"1.18.0",enumerable:!0});var hr,gr,mr,yr=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},wr=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof _r?_r(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}},br=function(e){return this instanceof br?(this.v=e,this):new br(e)},vr=function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:br(e[n](t)),done:!1}:a?a(t):t}:a}},Or=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},_r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tr=function(){function e(t,r,n){if(void 0===t&&(t=e.BATCH_SIZE),void 0===r&&(r=""),void 0===n&&(n=null),this.batchSize=t,this.datasetURL=r,this.shapes=n,this.data=null,this.actualTrainLength=0,t<=0)throw new Error("batchSize must be > 0")}return e.prototype.batches=function(e,t){var r;return yr(this,(function(n){switch(n.label){case 0:r=0,n.label=1;case 1:return r<e.length?[4,{data:e[r],labels:t[r]}]:[3,4];case 2:n.sent(),n.label=3;case 3:return++r,[3,1];case 4:return[2]}}))},e.prototype.trainingBatches=function(){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function i(e,t){a[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))},t&&(n[e]=t(n[e])))}function s(e,t){try{(r=a[e](t)).value instanceof br?Promise.resolve(r.value.v).then(u,l):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){s("next",e)}function l(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,(function(){var e,t,r;return yr(this,(function(n){switch(n.label){case 0:return e=Or(this.data,2),t=e[0],r=e[1],[5,_r(vr(wr(this.batches(t,r))))];case 1:return[4,br.apply(void 0,[n.sent()])];case 2:return n.sent(),[2]}}))}))},e.prototype.getData=function(){return t=this,r=arguments,a=function(t){var r,n,a,o,i,s,u,l,f,c,d;return void 0===t&&(t=!0),yr(this,(function(p){switch(p.label){case 0:return[4,fetch(this.datasetURL)];case 1:return r=p.sent(),o=(a=JSON).parse,[4,r.json()];case 2:for(n=o.apply(a,[p.sent()]),i=[],s=[],this.actualTrainLength=0,f=n.data,c=function(){var r,a=Math.min(d.batchSize,f.images.length),o=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([a],Or(n.shape),!1),c=[a],p=f.images.splice(0,d.batchSize),h=f.labels.splice(0,d.batchSize),g=[];p.forEach((function(e){g=g.concat(e)})),t&&(g=g.map((function(t){return e.normalize(t)}))),r=new Float32Array(g),u=new A("float32",r,o);var m=Array.from(h).map(BigInt);l=new A("int64",new BigInt64Array(m),c),i.push(u),s.push(l),d.actualTrainLength+=a},d=this;f.images.length>0;)c();return this.data=[i,s],[2]}}))},new((n=void 0)||(n=Promise))((function(e,o){function i(e){try{u(a.next(e))}catch(e){o(e)}}function s(e){try{u(a.throw(e))}catch(e){o(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,s)}u((a=a.apply(t,r||[])).next())}));var t,r,n,a},e.normalize=function(e){return e/255},e.BATCH_SIZE=64,e.MAX_NUM_TRAIN_SAMPLES=1e4,e.MAX_SAMPLE_SIZE=3073,e.MAX_SAMPLE_PER_BATCH=1e3,e.pixelMax=255,e.pixelMean=.1307,e.pixelStd=.3081,e.LABELS=["airplane","automobile","bird","cat","deer","dog","frog","horse","ship","truck"],e}(),Er=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},Ar=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof Rr?Rr(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}},Sr=function(e){return this instanceof Sr?(this.v=e,this):new Sr(e)},Mr=function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,a){t[n]=e[n]?function(t){return(r=!r)?{value:Sr(e[n](t)),done:!1}:a?a(t):t}:a}},Cr=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},Rr=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pr=function(){function e(t,r,n){if(void 0===t&&(t=e.BATCH_SIZE),void 0===r&&(r=""),void 0===n&&(n=null),this.batchSize=t,this.datasetURL=r,this.shapes=n,this.actualTrainLength=0,this.data=null,t<=0)throw new Error("batchSize must be > 0")}return e.prototype.batches=function(e,t){var r;return Er(this,(function(n){switch(n.label){case 0:r=0,n.label=1;case 1:return r<e.length?[4,{data:e[r],labels:t[r]}]:[3,4];case 2:n.sent(),n.label=3;case 3:return++r,[3,1];case 4:return[2]}}))},e.prototype.trainingBatches=function(){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},i("next"),i("throw"),i("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function i(e,t){a[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))},t&&(n[e]=t(n[e])))}function s(e,t){try{(r=a[e](t)).value instanceof Sr?Promise.resolve(r.value.v).then(u,l):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){s("next",e)}function l(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}(this,arguments,(function(){var e,t,r;return Er(this,(function(n){switch(n.label){case 0:return e=Cr(this.data,2),t=e[0],r=e[1],[5,Rr(Mr(Ar(this.batches(t,r))))];case 1:return[4,Sr.apply(void 0,[n.sent()])];case 2:return n.sent(),[2]}}))}))},e.prototype.getData=function(){return t=this,r=arguments,a=function(t){var r,n,a,o,i,s,u,l,f,c,d;return void 0===t&&(t=!0),Er(this,(function(p){switch(p.label){case 0:return[4,fetch(this.datasetURL)];case 1:return r=p.sent(),o=(a=JSON).parse,[4,r.json()];case 2:for(n=o.apply(a,[p.sent()]),i=[],s=[],this.actualTrainLength=0,f=n.data,c=function(){var r,a=Math.min(d.batchSize,f.images.length),o=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([a],Cr(n.shape),!1),c=[a],p=f.images.splice(0,d.batchSize),h=f.labels.splice(0,d.batchSize),g=[];p.forEach((function(e,t){g=g.concat(e)})),t&&(g=g.map((function(t){return e.normalize(t)}))),r=new Float32Array(g),u=new A("float32",r,o);var m=Array.from(h).map(BigInt);l=new A("int64",new BigInt64Array(m),c),i.push(u),s.push(l),d.actualTrainLength+=a},d=this;f.images.length>0;)c();return this.data=[i,s],[2]}}))},new((n=void 0)||(n=Promise))((function(e,o){function i(e){try{u(a.next(e))}catch(e){o(e)}}function s(e){try{u(a.throw(e))}catch(e){o(e)}}function u(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,s)}u((a=a.apply(t,r||[])).next())}));var t,r,n,a},e.normalize=function(e){return(e/this.pixelMax-this.pixelMean)/this.pixelStd},e.BATCH_SIZE=64,e.MAX_NUM_TRAIN_SAMPLES=6e4,e.MAX_NUM_TEST_SAMPLES=1e4,e.pixelMax=255,e.pixelMean=.1307,e.pixelStd=.3081,e}(),xr=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}u((n=n.apply(e,t||[])).next())}))},Ur=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},Fr=null,Ir=0,Dr=0,kr={distribution:"iid",chunkSize:1e3,batchSize:64},Lr=function(e,t,r){return xr(void 0,void 0,void 0,(function(){return Ur(this,(function(t){return[2,kr={distribution:"unbalanced"==e.distribution?"non-iid":"iid",chunkSize:e.chunkSize||1e3,batchSize:e.batchSize||64}]}))}))},Br=function(e,t,r){return xr(void 0,void 0,void 0,(function(){var t,r,n,a;return Ur(this,(function(o){return t=e.dataset||"mnist",r=e.batchSize||kr.batchSize,n=e.chunkSize||kr.chunkSize,a=e.distribution?e.distribution:kr.distribution,zr(),mr=function(e,t,r,n){return xr(this,void 0,void 0,(function(){var a,o;return Ur(this,(function(i){switch(i.label){case 0:return[4,fetch("".concat(vpod.env.MODEL_SERVER,"/").concat(e,"/shapes.json"))];case 1:return[4,i.sent().json()];case 2:return a=i.sent(),o=jr(e,t,r),hr="mnist"===e?new Pr(n,o,a):new Tr(n,o,a),gr=hr.getData(!0),[4,Nr(vpod.env.MODEL_SERVER,e)];case 3:return Fr=i.sent(),console.log("[CLIENT] loaded dataset: ",e),console.log("[CLIENT] loaded chunk size: ",r),console.log("[CLIENT] loaded batch size: ",n),console.log("[CLIENT] loaded distribution: ",t),[2]}}))}))}(t,a,n,r),[2,"Session Initialized"]}))}))};function Nr(e,t){return xr(this,void 0,void 0,(function(){var r,n,a,o,i;return Ur(this,(function(s){switch(s.label){case 0:r="".concat(e,"/").concat(t,"/checkpoint"),n="".concat(e,"/").concat(t,"/training_model.onnx"),a="".concat(e,"/").concat(t,"/optimizer_model.onnx"),o="".concat(e,"/").concat(t,"/eval_model.onnx"),i={checkpointState:r,trainModel:n,evalModel:o,optimizerModel:a},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,F.create(i)];case 2:return[2,s.sent()];case 3:throw s.sent();case 4:return[2]}}))}))}var Hr=function(e,t,r){return xr(void 0,void 0,void 0,(function(){var t,n,a,o,i,s,u;return Ur(this,(function(l){switch(l.label){case 0:return Ir=e.round,t=e.numEpochs||5,(n=e.modelWeights||null)?[4,Wr(n)]:[3,2];case 1:l.sent(),l.label=2;case 2:return mr?[4,mr]:[3,4];case 3:l.sent(),mr=null,l.label=4;case 4:return gr?[4,gr]:[3,6];case 5:l.sent(),l.label=6;case 6:a=0,o=0,l.label=7;case 7:return o<t?[4,$r(Fr,hr)]:[3,10];case 8:a=l.sent(),console.log("[CLIENT] Epoch loss ",o+1," (Total epochs:",Dr,"):",a),Dr++,fetch("vpod://main/onEpochEnd",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({y:a,x:Dr})}),l.label=9;case 9:return o++,[3,7];case 10:return i=a/t,fetch("vpod://main/onRoundEnd",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({y:i,x:Ir+1,totalEpochs:Dr})}),[4,Gr()];case 11:return s=l.sent(),u={weights:s,length:hr.actualTrainLength},fetch("".concat(vpod.env.AGGREGATOR_URL),{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json","X-Kleint-Session-Destination":Yr(r,"X-Kleint-Session-Sender")}}),gr=hr.getData(!0),[2,"Training Completed"]}}))}))};function $r(e,t){return xr(this,void 0,void 0,(function(){var r,n,a,o,i,s,u,l,f,c,d,p,h,g,m,y;return Ur(this,(function(w){switch(w.label){case 0:r=0,n=0,w.label=1;case 1:w.trys.push([1,9,10,15]),a=!0,o=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}}(t.trainingBatches()),w.label=2;case 2:return[4,o.next()];case 3:return i=w.sent(),(h=i.done)?[3,8]:(y=i.value,a=!1,++r,u={input:(s=y).data,labels:s.labels},[4,e.runTrainStep(u)]);case 4:return l=w.sent(),f=Object.keys(l).find((function(e){return e.includes("loss")})),c=l[f].data,d=parseFloat(c),n+=d,[4,e.runOptimizerStep()];case 5:return w.sent(),[4,e.lazyResetGrad()];case 6:w.sent(),w.label=7;case 7:return a=!0,[3,2];case 8:return[3,15];case 9:return p=w.sent(),g={error:p},[3,15];case 10:return w.trys.push([10,,13,14]),a||h||!(m=o.return)?[3,12]:[4,m.call(o)];case 11:w.sent(),w.label=12;case 12:return[3,14];case 13:if(g)throw g.error;return[7];case 14:return[7];case 15:return[2,n/r]}}))}))}var Gr=function(){return xr(void 0,void 0,void 0,(function(){var e,t,r,n,a,o;return Ur(this,(function(i){switch(i.label){case 0:return[4,Fr.getContiguousParameters(!0)];case 1:for(e=i.sent(),t=hr.shapes,r={},n=0,a=0,o=0;o<t.length;o++)a+=t[o].shape.reduce((function(e,t){return e*t}),1),r[t[o].name]=Array.from(e.data.slice(n,a)),n=a;return[2,r]}}))}))},Wr=function(e){return xr(void 0,void 0,void 0,(function(){var t,r,n;return Ur(this,(function(a){switch(a.label){case 0:for(t=new Float32Array,r=hr.shapes,n=0;n<r.length;n++)o=t,i=e[r[n].name],void 0,u=void 0,s=o.length,(u=new Float32Array(s+i.length)).set(o),u.set(i,s),t=u;return[4,Fr.loadParametersBuffer(new Uint8Array(t.buffer),!0)];case 1:return a.sent(),t=null,[2,"Weights set"]}var o,i,s,u}))}))},jr=function(e,t,r){var n,a=null!==(n=vpod.env.DATASET_SERVER)&&void 0!==n?n:vpod.location.origin;return"".concat(a,"/dataset/").concat(e,"/train/").concat(t,"/").concat(r)},zr=function(){fetch("vpod://main/resetCharts"),Fr=null,Ir=0,Dr=0};function Yr(e,t){for(var r in e)if(r.toLowerCase()===t.toLowerCase())return e[r]}return console.log("[CLIENT] Loaded."),t})()));